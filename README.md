# OCS AI Answerer

## OCSæ™ºèƒ½ç­”é¢˜API - å¤šæ¨¡å‹æ”¯æŒç‰ˆæœ¬

<div align="center">

[![GitHub Stars](https://img.shields.io/github/stars/lkd6666/ocs-ai-answerer?style=social)](https://github.com/lkd6666/ocs-ai-answerer/stargazers)
[![GitHub Issues](https://img.shields.io/github/issues/lkd6666/ocs-ai-answerer)](https://github.com/lkd6666/ocs-ai-answerer/issues)
[![GitHub License](https://img.shields.io/github/license/lkd6666/ocs-ai-answerer)](https://github.com/lkd6666/ocs-ai-answerer/blob/main/LICENSE)

![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)
![Flask](https://img.shields.io/badge/Flask-3.0-green.svg)
![DeepSeek](https://img.shields.io/badge/DeepSeek-AI-orange.svg)
![Doubao](https://img.shields.io/badge/Doubao-AI-purple.svg)
![AI Maintained](https://img.shields.io/badge/Maintained%20by-AI-00D9FF.svg)

ä¸€ä¸ªä¸“ä¸º[OCSç½‘è¯¾åŠ©æ‰‹](https://docs.ocsjs.com/)è®¾è®¡çš„æ™ºèƒ½ç­”é¢˜APIï¼Œæ”¯æŒDeepSeekã€è±†åŒ…ç­‰å¤šä¸ªå¤§è¯­è¨€æ¨¡å‹ï¼Œæä¾›å¼ºå¤§çš„AIç­”é¢˜èƒ½åŠ›ã€‚

> ğŸ“Œ **å…³äº OCS**
> 
> [OCS (Online Course Script)](https://docs.ocsjs.com/) æ˜¯ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„ç½‘è¯¾åŠ©æ‰‹è„šæœ¬ï¼Œæ”¯æŒè¶…æ˜Ÿå­¦ä¹ é€šã€æ™ºæ…§æ ‘ã€èŒæ•™äº‘ç­‰å¤šä¸ªå¹³å°ã€‚æœ¬é¡¹ç›®ä¸º OCS æä¾› AI æ™ºèƒ½ç­”é¢˜èƒ½åŠ›ã€‚
> 
> - ğŸŒ å®˜æ–¹ç½‘ç«™ï¼šhttps://docs.ocsjs.com/
> - ğŸ“¦ è„šæœ¬å®‰è£…ï¼šhttps://docs.ocsjs.com/docs/work
> - ğŸ’¬ äº¤æµç¤¾åŒºï¼šhttps://docs.ocsjs.com/

---

> ğŸ¤– **AI é©±åŠ¨å¼€å‘**
> 
> æœ¬é¡¹ç›®ç”± AI è¾…åŠ©è®¾è®¡ã€å¼€å‘å’Œç»´æŠ¤ï¼Œä»£è¡¨äº†äººå·¥æ™ºèƒ½åœ¨è½¯ä»¶å·¥ç¨‹é¢†åŸŸçš„å®è·µåº”ç”¨ã€‚
> 
> - ğŸ’¡ **æ™ºèƒ½è®¾è®¡**ï¼šAI å‚ä¸æ¶æ„è®¾è®¡å’ŒåŠŸèƒ½è§„åˆ’
> - ğŸ”§ **ä»£ç ç”Ÿæˆ**ï¼šæ ¸å¿ƒä»£ç ç”± AI ååŠ©ç¼–å†™å’Œä¼˜åŒ–
> - ğŸ“ **æ–‡æ¡£ç»´æŠ¤**ï¼šæŠ€æœ¯æ–‡æ¡£ç”± AI è‡ªåŠ¨ç”Ÿæˆå’Œæ›´æ–°
> - ğŸ› **é—®é¢˜è¯Šæ–­**ï¼šAI ååŠ©åˆ†æå’Œä¿®å¤é—®é¢˜
> 
> è¿™ç§å¼€å‘æ¨¡å¼ç¡®ä¿äº†ä»£ç è´¨é‡ã€å¿«é€Ÿè¿­ä»£å’ŒæŒç»­ä¼˜åŒ–ã€‚

---

</div>

## âœ¨ ç‰¹æ€§

### ğŸ¨ å…¨æ–° Vue3 å¯è§†åŒ–ç•Œé¢ï¼ˆv3.0ï¼‰
- **å‰ç«¯æŠ€æœ¯æ ˆå‡çº§**ï¼šä»çº¯ HTML é‡æ„ä¸º Vue 3 + Element Plus ç°ä»£åŒ–æ¶æ„
- **å“åº”å¼è®¾è®¡**ï¼šå®Œç¾é€‚é…æ¡Œé¢å’Œç§»åŠ¨ç«¯ï¼Œæµç•…çš„ç”¨æˆ·ä½“éªŒ
- **ä¸‰å¤§åŠŸèƒ½æ¨¡å—**ï¼š
  - ğŸ  **é…ç½®ç®¡ç†é¢æ¿**ï¼šå¯è§†åŒ–é…ç½®æ‰€æœ‰å‚æ•°ï¼Œæ”¯æŒä¿å­˜å¹¶é‡å¯
  - ğŸ“Š **æ•°æ®å¯è§†åŒ–é¡µé¢**ï¼šChart.js å›¾è¡¨ã€åç«¯åˆ†é¡µã€å®æ—¶ç»Ÿè®¡
  - ğŸ“‹ **API æ–‡æ¡£é¡µé¢**ï¼šåœ¨çº¿æŸ¥çœ‹å®Œæ•´çš„ API æ¥å£æ–‡æ¡£
- **æ™ºèƒ½å¯¼èˆª**ï¼šç»Ÿä¸€çš„å¯¼èˆªæ ï¼Œé¡µé¢é—´è‡ªç”±è·³è½¬
- **å³æ—¶ä¿å­˜**ï¼šä¸€é”®ä¿å­˜é…ç½®å¹¶è‡ªåŠ¨é‡å¯æœåŠ¡å™¨ï¼Œé…ç½®ç«‹å³ç”Ÿæ•ˆ

### ğŸ”’ ä¼ä¸šçº§å®‰å…¨æœºåˆ¶ï¼ˆv3.0ï¼‰
- **è®¿é—®å¯†é’¥è®¤è¯**ï¼šé¦–æ¬¡å¯åŠ¨è‡ªåŠ¨ç”Ÿæˆ 64 ä½å®‰å…¨å¯†é’¥
- **SHA256 åŠ å¯†å­˜å‚¨**ï¼šå¯†é’¥å“ˆå¸Œå­˜å‚¨ï¼Œé˜²æ­¢æ˜æ–‡æ³„éœ²
- **IP é™æµä¿æŠ¤**ï¼šå¤±è´¥ 5 æ¬¡é”å®š 5 åˆ†é’Ÿï¼Œé˜²æ­¢æš´åŠ›ç ´è§£
- **åˆ†çº§æƒé™æ§åˆ¶**ï¼š
  - å…¬å¼€è®¿é—®ï¼šç­”é¢˜æ¥å£ã€æ•°æ®æŸ¥çœ‹ã€å¥åº·æ£€æŸ¥
  - éœ€è¦è®¤è¯ï¼šé…ç½®ç®¡ç†ã€æ•°æ®æ¸…ç©ºã€æœåŠ¡å™¨é‡å¯
- **å‰ç«¯å®‰å…¨**ï¼šLocalStorage å¯†é’¥ç®¡ç†ã€axios è‡ªåŠ¨æ³¨å…¥ã€ç»Ÿä¸€æ‹¦æˆª

### ğŸ¨ Web é…ç½®ç•Œé¢å¢å¼ºï¼ˆv2.2ï¼‰
- **å¯è§†åŒ–é…ç½®ç®¡ç†**ï¼šé€šè¿‡æµè§ˆå™¨å›¾å½¢ç•Œé¢ç®¡ç†æ‰€æœ‰é…ç½®ï¼Œæ— éœ€æ‰‹åŠ¨ç¼–è¾‘æ–‡ä»¶
- **å®æ—¶çŠ¶æ€ç›‘æ§**ï¼šæŸ¥çœ‹æœåŠ¡çŠ¶æ€ã€å½“å‰æ¨¡å‹ã€æ€è€ƒæ¨¡å¼ç­‰å®æ—¶ä¿¡æ¯
- **å¿«é€Ÿå¯¼èˆªä¸­å¿ƒ**ï¼šä¸€é”®è·³è½¬åˆ°ç­”é¢˜è®°å½•ã€APIæ–‡æ¡£ç­‰åŠŸèƒ½é¡µé¢
- **é…ç½®é¢„è§ˆå¯¼å‡º**ï¼šå®æ—¶é¢„è§ˆé…ç½®ã€å¯¼å‡º.envæ–‡ä»¶ã€é‡ç½®é»˜è®¤å€¼
- **ä¿å­˜å¹¶é‡å¯**ï¼šä¸€é”®ä¿å­˜é…ç½®å¹¶è‡ªåŠ¨é‡å¯æœåŠ¡å™¨ï¼Œè‡ªåŠ¨è½®è¯¢æ£€æµ‹é‡å¯çŠ¶æ€

### ğŸ¤– AIé©±åŠ¨
- **å¤šæ¨¡å‹æ”¯æŒ**ï¼šDeepSeek Chatã€DeepSeek Reasonerã€è±†åŒ… (Doubao) ç­‰å¤šä¸ªå¤§è¯­è¨€æ¨¡å‹
- **é¢˜å‹æ€è€ƒå¼€å…³**ï¼šåœ¨ Web ç®¡ç†å°ä¸ºä¸åŒé¢˜å‹åˆ†åˆ«é…ç½®æ˜¯å¦å¯ç”¨æ·±åº¦æ€è€ƒ
- **åŸç”Ÿæ€è€ƒæ¨¡å‹**ï¼šè‡ªåŠ¨è¯†åˆ« Reasoner æ¨¡å‹ï¼Œå¼ºåˆ¶å¯ç”¨æ·±åº¦æ¨ç†å¹¶æç¤ºæ··åˆæ¨¡å¼è¡Œä¸º
- **å¤šé€‰é¢˜æ™ºèƒ½**ï¼šå¤šé€‰é¢˜è‡ªåŠ¨å¯ç”¨æ·±åº¦æ€è€ƒï¼Œæé«˜å‡†ç¡®ç‡
- **å›¾ç‰‡é¢˜æ™ºèƒ½**ï¼šå¸¦å›¾ç‰‡é¢˜ç›®è‡ªåŠ¨å¯ç”¨æ·±åº¦æ€è€ƒï¼Œæé«˜è¯†åˆ«å‡†ç¡®ç‡
- **æ™ºèƒ½ç†è§£**ï¼šå¼ºå¤§çš„è‡ªç„¶è¯­è¨€ç†è§£èƒ½åŠ›

### ğŸ¯ é¢˜å‹æ”¯æŒ
- âœ… å•é€‰é¢˜ï¼ˆSingle Choiceï¼‰
- âœ… å¤šé€‰é¢˜ï¼ˆMultiple Choiceï¼‰ - è‡ªåŠ¨æ·±åº¦æ€è€ƒ
- âœ… åˆ¤æ–­é¢˜ï¼ˆTrue/Falseï¼‰
- âœ… å¡«ç©ºé¢˜ï¼ˆCompletionï¼‰

### ğŸ–¼ï¸ å¤šæ¨¡æ€æ”¯æŒ
- **å›¾ç‰‡è¯†åˆ«**ï¼šè±†åŒ…æ¨¡å‹æ”¯æŒå›¾ç‰‡+æ–‡æœ¬æ··åˆè¾“å…¥
- **è‡ªåŠ¨æå–**ï¼šä»é¢˜å¹²å’Œé€‰é¡¹ä¸­è‡ªåŠ¨æå–å›¾ç‰‡URL
- **æ™ºèƒ½æ€è€ƒ**ï¼šå¸¦å›¾ç‰‡é¢˜ç›®è‡ªåŠ¨å¯ç”¨æ·±åº¦æ€è€ƒæ¨¡å¼
- **æ™ºèƒ½é™çº§**ï¼šå›¾ç‰‡è®¿é—®å¤±è´¥æ—¶è‡ªåŠ¨åˆ‡æ¢çº¯æ–‡æœ¬æ¨¡å¼

### ğŸ“Š æ•°æ®è®°å½•
- **CSVæ—¥å¿—**ï¼šè®°å½•æ¯é“é¢˜çš„è¯¦ç»†ä¿¡æ¯ï¼ˆé¢˜ç›®ã€é€‰é¡¹ã€ç­”æ¡ˆã€æ€è€ƒè¿‡ç¨‹ã€è€—æ—¶ç­‰ï¼‰
- **å¯è§†åŒ–ç•Œé¢**ï¼šVue3 + Element Plus ç°ä»£åŒ–ç•Œé¢ï¼Œå›¾è¡¨å±•ç¤ºç­”é¢˜æ•°æ®
- **åç«¯åˆ†é¡µ**ï¼šæ”¯æŒå¤§æ•°æ®é‡ï¼Œæœç´¢ã€ç­›é€‰ã€æ’åºåŠŸèƒ½
- **å®æ—¶ç»Ÿè®¡**ï¼šé¢˜å‹åˆ†å¸ƒã€æ€è€ƒæ¨¡å¼ä½¿ç”¨ã€å¹³å‡è€—æ—¶ã€è´¹ç”¨ç»Ÿè®¡
- **æ•°æ®å¯¼å‡º**ï¼šæ”¯æŒ CSV æ ¼å¼å¯¼å‡ºï¼Œæ•°æ®æ¸…ç©ºéœ€è¦å¯†é’¥è®¤è¯

### ğŸ”§ å…¶ä»–ç‰¹æ€§
- ğŸ“ **ç²¾å‡†Prompt**ï¼šé’ˆå¯¹ä¸åŒé¢˜å‹ä¼˜åŒ–çš„æç¤ºè¯å·¥ç¨‹
- ğŸ”„ **æ™ºèƒ½æ¸…æ´—**ï¼šç­”æ¡ˆæ ¼å¼åŒ–å’ŒåŒ¹é…ä¼˜åŒ–
- ğŸš€ **å³æ’å³ç”¨**ï¼šå®Œç¾å¯¹æ¥OCSè„šæœ¬é¢˜åº“é…ç½®
- ğŸ” **é‡è¯•æœºåˆ¶**ï¼šç½‘ç»œé”™è¯¯è‡ªåŠ¨é‡è¯•ï¼Œæ”¯æŒä»£ç†é…ç½®
- ğŸ” **æ¨¡å‹æ•…éšœè½¬ç§»**ï¼šåŒä¸€é¢˜å‹é…ç½®å¤šæ¨¡å‹æ—¶è‡ªåŠ¨é™çº§ï¼Œç¡®ä¿ç­”é¢˜ä¸ä¸­æ–­
- âš™ï¸ **çµæ´»é…ç½®**ï¼šæ‰€æœ‰å‚æ•°é€šè¿‡ç¯å¢ƒå˜é‡æˆ– Web ç•Œé¢é…ç½®
- ğŸ§ª **é¢˜å‹æµ‹è¯•è„šæœ¬**ï¼š`test_question.py` æ”¯æŒä¸€é”®æ¨¡æ‹Ÿä¸åŒé¢˜å‹ï¼ŒéªŒè¯æ¨¡å‹ä¸æ€è€ƒç­–ç•¥
- ğŸ·ï¸ **æ ‡ç­¾å±•ç¤º**ï¼šåœ¨OCSä¸­æ˜¾ç¤ºAIã€æ·±åº¦æ€è€ƒã€æ¨¡å‹ç­‰æ ‡ç­¾
- ğŸ”„ **ä¸€é”®é‡å¯**ï¼šä¿å­˜é…ç½®å¹¶è‡ªåŠ¨é‡å¯ï¼Œæ™ºèƒ½è½®è¯¢æ£€æµ‹æœåŠ¡çŠ¶æ€
- ğŸ”’ **å®‰å…¨ä¿æŠ¤**ï¼šè®¿é—®å¯†é’¥ã€IPé™æµã€SHA256åŠ å¯†

## ğŸ“‹ ç›®å½•

- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [å®‰è£…æ­¥éª¤](#å®‰è£…æ­¥éª¤)
- [é…ç½®è¯´æ˜](#é…ç½®è¯´æ˜)
- [é…ç½®OCSè„šæœ¬](#é…ç½®ocsè„šæœ¬)
- [APIæ–‡æ¡£](#apiæ–‡æ¡£)
- [åŠŸèƒ½ä»‹ç»](#åŠŸèƒ½ä»‹ç»)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
- [åŠŸèƒ½è§„åˆ’](#åŠŸèƒ½è§„åˆ’)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

#### ğŸŒŸ æ–¹å¼ä¸€ï¼šä½¿ç”¨Webé…ç½®é¢æ¿ï¼ˆæ¨èï¼‰

**æœ€ç®€å•çš„æ–¹å¼ï¼Œæ— éœ€æ‰‹åŠ¨ç¼–è¾‘æ–‡ä»¶ï¼**

1. **å¯åŠ¨æœåŠ¡**
   ```bash
   # Windows
   start.bat
   
   # Linux/Mac
   ./start.sh
   ```

2. **æ‰“å¼€é…ç½®é¢æ¿**
   - åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š`http://localhost:5000/`
   - é¦–æ¬¡ä½¿ç”¨ä¼šçœ‹åˆ°é…ç½®ç®¡ç†ç•Œé¢

3. **é…ç½®APIå¯†é’¥**
   - ç‚¹å‡» "ğŸ§  æ¨¡å‹é…ç½®" æ ‡ç­¾
   - è¾“å…¥ DeepSeek æˆ–è±†åŒ…çš„ API å¯†é’¥ï¼ˆè§ä¸‹æ–¹è·å–æ–¹æ³•ï¼‰
   - é€‰æ‹©æ¨¡å‹æä¾›å•†ï¼ˆæ¨èé€‰æ‹©"è‡ªåŠ¨é€‰æ‹©"ï¼‰
   
4. **è°ƒæ•´å…¶ä»–å‚æ•°**ï¼ˆå¯é€‰ï¼‰
   - ğŸ’¡ æ€è€ƒæ¨¡å¼ï¼šæ˜¯å¦å¯ç”¨æ·±åº¦æ¨ç†
   - âš™ï¸ AIå‚æ•°ï¼šæ¸©åº¦ã€Tokené™åˆ¶ç­‰
   - ğŸŒ ç½‘ç»œè®¾ç½®ï¼šä»£ç†ã€è¶…æ—¶æ—¶é—´
   
5. **ä¿å­˜é…ç½®**
   - ç‚¹å‡»é¡µé¢åº•éƒ¨ "ğŸ’¾ ä¿å­˜é…ç½®" æŒ‰é’®
   - é‡å¯æœåŠ¡ä»¥åº”ç”¨æ–°é…ç½®

> ğŸ’¡ **æç¤º**ï¼šé…ç½®ä¼šè‡ªåŠ¨ä¿å­˜åˆ° `.env` æ–‡ä»¶ï¼Œä¸‹æ¬¡å¯åŠ¨è‡ªåŠ¨åŠ è½½

#### æ–¹å¼äºŒï¼šæ‰‹åŠ¨ç¼–è¾‘é…ç½®æ–‡ä»¶

å¦‚æœä½ æ›´å–œæ¬¢ä¼ ç»Ÿæ–¹å¼ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨ç¼–è¾‘ï¼š

å¤åˆ¶ `env.template` ä¸º `.env` å¹¶ç¼–è¾‘ï¼š

```bash
# Windows
copy env.template .env

# Linux/Mac
cp env.template .env
```

### ğŸ”‘ è·å–APIå¯†é’¥

#### DeepSeekï¼ˆæ¨èï¼Œæ€§ä»·æ¯”é«˜ï¼‰

1. è®¿é—® [DeepSeek å¼€æ”¾å¹³å°](https://platform.deepseek.com/)
2. æ³¨å†Œ/ç™»å½•è´¦å·
3. è¿›å…¥ [APIå¯†é’¥é¡µé¢](https://platform.deepseek.com/api_keys)
4. ç‚¹å‡»"åˆ›å»ºAPIå¯†é’¥"
5. å¤åˆ¶ç”Ÿæˆçš„å¯†é’¥ï¼ˆæ ¼å¼ï¼š`sk-xxxxxx...`ï¼‰
6. ç²˜è´´åˆ° `.env` æ–‡ä»¶çš„ `DEEPSEEK_API_KEY`

#### è±†åŒ…ï¼ˆå¯é€‰ï¼Œæ”¯æŒå›¾ç‰‡ï¼‰

1. è®¿é—® [ç«å±±å¼•æ“æ§åˆ¶å°](https://console.volcengine.com/ark)
2. æ³¨å†Œ/ç™»å½•è´¦å·
3. å¼€é€š"è±†åŒ…å¤§æ¨¡å‹"æœåŠ¡
4. åˆ›å»ºæ¨ç†æ¥å…¥ç‚¹ï¼Œè·å–ï¼š
   - APIå¯†é’¥ï¼ˆå¡«å…¥ `DOUBAO_API_KEY`ï¼‰
   - æ¥å…¥ç‚¹IDï¼ˆå¡«å…¥ `DOUBAO_MODEL`ï¼‰

### ğŸ“ ç¼–è¾‘é…ç½®æ–‡ä»¶

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œå¡«å…¥APIå¯†é’¥ï¼š

```env
# é€‰æ‹©æ¨¡å‹æä¾›å•†ï¼šdeepseekã€doubao æˆ– autoï¼ˆæ™ºèƒ½é€‰æ‹©ï¼‰
MODEL_PROVIDER=auto  # æ¨èä½¿ç”¨autoæ¨¡å¼

# DeepSeeké…ç½®ï¼ˆçº¯æ–‡æœ¬é¢˜ç›®ï¼Œæˆæœ¬ä½ï¼‰
DEEPSEEK_API_KEY=sk-your-deepseek-api-key  # ğŸ‘ˆ å¡«å…¥ä½ çš„å¯†é’¥
DEEPSEEK_BASE_URL=https://api.deepseek.com

# è±†åŒ…é…ç½®ï¼ˆå›¾ç‰‡é¢˜ç›®ï¼Œæ”¯æŒå¤šæ¨¡æ€ï¼‰
DOUBAO_API_KEY=your-doubao-api-key         # ğŸ‘ˆ å¡«å…¥ä½ çš„å¯†é’¥
DOUBAO_BASE_URL=https://ark.cn-beijing.volces.com/api/v3
DOUBAO_MODEL=doubao-seed-1-6-251015        # ğŸ‘ˆ å¡«å…¥ä½ çš„æ¥å…¥ç‚¹ID

# æ€è€ƒæ¨¡å¼ï¼ˆæ¨èé…ç½®ï¼‰
ENABLE_REASONING=false
AUTO_REASONING_FOR_MULTIPLE=true  # å¤šé€‰é¢˜è‡ªåŠ¨å¯ç”¨
AUTO_REASONING_FOR_IMAGES=true    # å›¾ç‰‡é¢˜è‡ªåŠ¨å¯ç”¨ï¼ˆæ¨èï¼‰
```


### 3. å¯åŠ¨æœåŠ¡

```bash
python ocs_ai_answerer_advanced.py
```

çœ‹åˆ°ä»¥ä¸‹è¾“å‡ºè¡¨ç¤ºå¯åŠ¨æˆåŠŸï¼š

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘       OCSæ™ºèƒ½ç­”é¢˜APIæœåŠ¡ - å¤šæ¨¡å‹æ”¯æŒç‰ˆæœ¬ v3.0          â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  ğŸ” è®¿é—®å¯†é’¥: 525a3b3c449038e715262eac01d16c25...        â•‘
â•‘     (é¦–æ¬¡å¯åŠ¨å·²è‡ªåŠ¨ç”Ÿæˆï¼Œè¯·å¦¥å–„ä¿å­˜æ­¤å¯†é’¥)              â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  ğŸ  é…ç½®é¢æ¿: http://0.0.0.0:5000/                      
â•‘  ğŸ  é…ç½®ç®¡ç†: http://0.0.0.0:5000/config                
â•‘  ğŸ“Š ç­”é¢˜è®°å½•: http://0.0.0.0:5000/viewer                
â•‘  ğŸ“‹ APIæ–‡æ¡£: http://0.0.0.0:5000/api                    
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  æ¥å£åœ°å€: http://localhost:5000/api/answer              
â•‘  å¥åº·æ£€æŸ¥: http://localhost:5000/api/health              
â•‘  é…ç½®API: http://localhost:5000/api/config (éœ€è¦å¯†é’¥)    
â•‘  æ•°æ®API: http://localhost:5000/api/csv                  
â•‘  é‡å¯API: http://localhost:5000/api/restart (éœ€è¦å¯†é’¥)   
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  å½“å‰æ¨¡å‹: AUTO (æ™ºèƒ½é€‰æ‹©)                               â•‘
â•‘  æ€è€ƒæ¨¡å¼: âŒ æœªå¯ç”¨                                      â•‘
â•‘  å¤šé€‰é¢˜æ€è€ƒ: âœ… è‡ªåŠ¨å¯ç”¨                                  â•‘
â•‘  å›¾ç‰‡é¢˜æ€è€ƒ: âœ… è‡ªåŠ¨å¯ç”¨                                  â•‘
â•‘  æ”¯æŒé¢˜å‹: å•é€‰ã€å¤šé€‰ã€åˆ¤æ–­ã€å¡«ç©º                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  ğŸ”’ å®‰å…¨çŠ¶æ€: âœ… è®¿é—®å¯†é’¥å·²å¯ç”¨                          â•‘
â•‘  ğŸ” å¯†é’¥æ–‡ä»¶: .secret_key (SHA256 åŠ å¯†å­˜å‚¨)              â•‘
â•‘  ğŸ›¡ï¸ é™æµä¿æŠ¤: 5æ¬¡å¤±è´¥ / 5åˆ†é’Ÿ                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ’¡ æç¤º: é¦–æ¬¡ä½¿ç”¨è¯·è®¿é—® http://0.0.0.0:5000/config è¿›è¡Œé…ç½®
ğŸ”‘ é‡è¦: è¯·å¦¥å–„ä¿å­˜ä¸Šæ–¹æ˜¾ç¤ºçš„è®¿é—®å¯†é’¥ï¼Œé…ç½®é¡µé¢éœ€è¦ä½¿ç”¨
```

> âš ï¸ **é‡è¦æç¤º**ï¼šé¦–æ¬¡å¯åŠ¨ä¼šè‡ªåŠ¨ç”Ÿæˆè®¿é—®å¯†é’¥ï¼Œè¯·ç«‹å³å¤åˆ¶ä¿å­˜ï¼é…ç½®ç®¡ç†å’Œæ•æ„Ÿæ“ä½œéœ€è¦æ­¤å¯†é’¥ã€‚

### ğŸ¨ è®¿é—®Webç•Œé¢

æœåŠ¡å¯åŠ¨åï¼Œå¯ä»¥è®¿é—®ä»¥ä¸‹é¡µé¢ï¼š

#### é¦–æ¬¡ä½¿ç”¨ï¼ˆéœ€è¦è®¿é—®å¯†é’¥ï¼‰
1. **è·å–è®¿é—®å¯†é’¥**ï¼šä»æœåŠ¡å™¨å¯åŠ¨æ—¥å¿—ä¸­å¤åˆ¶ 64 ä½å¯†é’¥
2. **è®¿é—®é…ç½®é¡µé¢**ï¼š`http://localhost:5000/config`
3. **è¾“å…¥è®¿é—®å¯†é’¥**ï¼šç²˜è´´å¯†é’¥è¿›è¡ŒéªŒè¯
4. **é…ç½® API å¯†é’¥**ï¼šè¾“å…¥ DeepSeek æˆ–è±†åŒ…çš„ API å¯†é’¥
5. **ä¿å­˜å¹¶é‡å¯**ï¼šç‚¹å‡»"ä¿å­˜å¹¶é‡å¯"æŒ‰é’®ï¼Œç³»ç»Ÿè‡ªåŠ¨é‡å¯å¹¶åº”ç”¨é…ç½®

#### åŠŸèƒ½é¡µé¢
- **ğŸ  é¦–é¡µ/é…ç½®é¢æ¿**ï¼š`http://localhost:5000/` æˆ– `/config` - ç®¡ç†æ‰€æœ‰é…ç½®é¡¹ï¼ˆéœ€è¦å¯†é’¥ï¼‰
- **ğŸ“Š ç­”é¢˜è®°å½•æŸ¥çœ‹**ï¼š`http://localhost:5000/viewer` - æŸ¥çœ‹ç­”é¢˜ç»Ÿè®¡å’Œå›¾è¡¨ï¼ˆæ— éœ€å¯†é’¥ï¼‰
- **ğŸ“‹ API æ–‡æ¡£é¡µé¢**ï¼š`http://localhost:5000/api` - æŸ¥çœ‹å®Œæ•´ API æ–‡æ¡£ï¼ˆæ— éœ€å¯†é’¥ï¼‰

#### å®‰å…¨è¯´æ˜
- âœ… **å…¬å¼€è®¿é—®**ï¼šç­”é¢˜æ¥å£ã€æ•°æ®æŸ¥çœ‹ã€API æ–‡æ¡£ã€å¥åº·æ£€æŸ¥
- ğŸ”’ **éœ€è¦å¯†é’¥**ï¼šé…ç½®ç®¡ç†ã€æ•°æ®æ¸…ç©ºã€æœåŠ¡å™¨é‡å¯ã€å¯†é’¥ä¿®æ”¹

> ğŸ’¡ **æç¤º**ï¼šè®¿é—®å¯†é’¥ä¼šè‡ªåŠ¨ä¿å­˜åœ¨æµè§ˆå™¨ LocalStorage ä¸­ï¼Œæ— éœ€æ¯æ¬¡è¾“å…¥

### 4. é…ç½®OCSè„šæœ¬

#### æ–¹å¼ä¸€ï¼šå®‰è£…OCSè„šæœ¬ï¼ˆæ¨èï¼‰

å¦‚æœè¿˜æœªå®‰è£… OCS è„šæœ¬ï¼Œè¯·å…ˆå®‰è£…ï¼š

1. **å®‰è£…è„šæœ¬ç®¡ç†å™¨**ï¼ˆæ¨èè„šæœ¬çŒ«ï¼‰
   - Chrome/Edgeï¼šå®‰è£… [è„šæœ¬çŒ«(ScriptCat)](https://scriptcat.org/) æˆ– [Tampermonkey](https://www.tampermonkey.net/)
   - Firefoxï¼šå®‰è£… [è„šæœ¬çŒ«](https://scriptcat.org/) æˆ– [Tampermonkey](https://addons.mozilla.org/firefox/addon/tampermonkey/)
   - Safariï¼šå®‰è£… [Userscripts](https://apps.apple.com/app/userscripts/id1463298887)
   
   > ğŸ’¡ **æ¨èä½¿ç”¨è„šæœ¬çŒ«**ï¼šå›½å†…å¼€å‘ï¼Œé€Ÿåº¦å¿«ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œæ›´é€‚åˆå›½å†…ç½‘ç»œç¯å¢ƒ

2. **å®‰è£… OCS è„šæœ¬**
   - è®¿é—® [OCS å®˜ç½‘](https://docs.ocsjs.com/docs/work)
   - æˆ–ç›´æ¥åœ¨è„šæœ¬ç®¡ç†å™¨ä¸­æ·»åŠ æœ¬é¡¹ç›®çš„ `ocs.user.js` æ–‡ä»¶ï¼ˆåŒ…å«æ ‡ç­¾å…¼å®¹æ€§ä¼˜åŒ–ï¼‰

3. **é…ç½®é¢˜åº“**
   - åœ¨OCSè„šæœ¬çš„"é€šç”¨-å…¨å±€è®¾ç½®-é¢˜åº“é…ç½®"ä¸­
   - å¯¼å…¥ `ocs_config.json` æ–‡ä»¶

> ğŸ’¡ **æ¨èä½¿ç”¨é¡¹ç›®æä¾›çš„ `ocs.user.js`**
> 
> æœ¬é¡¹ç›®çš„ `ocs.user.js` å·²é’ˆå¯¹ AI ç­”é¢˜åŠŸèƒ½è¿›è¡Œä¼˜åŒ–ï¼ŒåŒ…å«ï¼š
> - âœ… æ”¯æŒ `purple` å’Œ `orange` æ ‡ç­¾é¢œè‰²ï¼ˆæ·±åº¦æ€è€ƒã€è‡ªåŠ¨æ€è€ƒæ ‡è¯†ï¼‰
> - âœ… æ›´å¥½çš„ AI ç­”é¢˜æ ‡ç­¾æ˜¾ç¤º
> - âœ… å®Œæ•´çš„é¢˜åº“è¶…æ—¶é…ç½®ï¼ˆ3åˆ†é’Ÿï¼‰
> 
> **å®‰è£…æ–¹æ³•ï¼š**
> 1. æ‰“å¼€è„šæœ¬ç®¡ç†å™¨ï¼ˆè„šæœ¬çŒ«æˆ–Tampermonkeyï¼‰
> 2. ç‚¹å‡»"æ·»åŠ æ–°è„šæœ¬"æˆ–"æ–°å»ºè„šæœ¬"
> 3. å°† `ocs.user.js` çš„å†…å®¹ç²˜è´´è¿›å»
> 4. ä¿å­˜å¹¶å¯ç”¨
> 
> æˆ–è€…ç›´æ¥ä»æ–‡ä»¶å®‰è£…ï¼š
> 1. ä¸‹è½½é¡¹ç›®ä¸­çš„ `ocs.user.js` æ–‡ä»¶
> 2. åœ¨è„šæœ¬ç®¡ç†å™¨ä¸­é€‰æ‹©"ä»æœ¬åœ°å®‰è£…"
> 3. é€‰æ‹©ä¸‹è½½çš„ `ocs.user.js` æ–‡ä»¶

#### æ–¹å¼äºŒï¼šä»…é…ç½®é¢˜åº“ï¼ˆå·²å®‰è£…OCSç”¨æˆ·ï¼‰

å¦‚æœå·²ç»å®‰è£…äº† OCS è„šæœ¬ï¼Œåªéœ€å¯¼å…¥é¢˜åº“é…ç½®å³å¯ã€‚

## ğŸ“¦ å®‰è£…æ­¥éª¤

### ç¯å¢ƒè¦æ±‚

- Python 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- pip åŒ…ç®¡ç†å™¨
- DeepSeek æˆ– è±†åŒ… APIå¯†é’¥

### è¯¦ç»†å®‰è£…

1. **å…‹éš†æˆ–ä¸‹è½½é¡¹ç›®**

```bash
git clone https://github.com/lkd6666/ocs-ai-answerer.git
cd ocs-ai-answerer
```

2. **åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆæ¨èï¼‰**

```bash
# Windows
python -m venv venv
venv\Scripts\activate

# Linux/Mac
python3 -m venv venv
source venv/bin/activate
```

3. **å®‰è£…ä¾èµ–åŒ…**

```bash
pip install -r requirements.txt
```

ä¾èµ–åŒ…åˆ—è¡¨ï¼ˆ`requirements.txt`ï¼‰ï¼š
```
flask>=3.0.0
flask-cors>=4.0.0
openai>=1.12.0
python-dotenv>=1.0.0
httpx>=0.26.0
requests>=2.31.0
```

4. **é…ç½®ç¯å¢ƒå˜é‡**

```bash
# å¤åˆ¶æ¨¡æ¿
cp env.template .env

# ç¼–è¾‘é…ç½®
# Windows: notepad .env
# Linux/Mac: nano .env
```

5. **æ„å»ºå‰ç«¯ï¼ˆé¦–æ¬¡ä½¿ç”¨æˆ–æ›´æ–°åï¼‰**

```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# å®‰è£…ä¾èµ–ï¼ˆé¦–æ¬¡ï¼‰
npm install

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# è¿”å›é¡¹ç›®æ ¹ç›®å½•
cd ..
```

> ğŸ’¡ **æç¤º**ï¼šå‰ç«¯æ„å»ºåä¼šç”Ÿæˆ `frontend/dist` ç›®å½•ï¼ŒFlask ä¼šè‡ªåŠ¨æ‰˜ç®¡è¿™äº›é™æ€æ–‡ä»¶

**å‰ç«¯å¼€å‘æ¨¡å¼**ï¼ˆå¯é€‰ï¼Œä»…å¼€å‘æ—¶ä½¿ç”¨ï¼‰ï¼š
```bash
cd frontend
npm run dev  # å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼Œæ”¯æŒçƒ­é‡è½½
```

6. **å¯åŠ¨åç«¯æœåŠ¡**

```bash
python ocs_ai_answerer_advanced.py
```

### ğŸ—ï¸ å‰ç«¯æ¶æ„è¯´æ˜

#### æŠ€æœ¯æ ˆ
- **æ¡†æ¶**ï¼šVue 3.4.0 (Composition API)
- **UI åº“**ï¼šElement Plus 2.5.0
- **å›¾è¡¨**ï¼šChart.js 4.4.0
- **HTTP å®¢æˆ·ç«¯**ï¼šAxios 1.6.0
- **æ„å»ºå·¥å…·**ï¼šVite 4.5.0

#### ç›®å½•ç»“æ„
```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ConfigPanel.vue    # é…ç½®ç®¡ç†é¢æ¿
â”‚   â”‚   â”œâ”€â”€ DataViewer.vue     # æ•°æ®å¯è§†åŒ–é¡µé¢
â”‚   â”‚   â”œâ”€â”€ ApiDocs.vue        # API æ–‡æ¡£é¡µé¢
â”‚   â”‚   â””â”€â”€ AuthDialog.vue     # è®¤è¯å¯¹è¯æ¡†
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ auth.js            # å¯†é’¥ç®¡ç†å·¥å…·
â”‚   â”‚   â””â”€â”€ axios.js           # HTTP å®¢æˆ·ç«¯é…ç½®
â”‚   â”œâ”€â”€ App.vue                # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â””â”€â”€ main.js                # å…¥å£æ–‡ä»¶
â”œâ”€â”€ public/                     # é™æ€èµ„æº
â”œâ”€â”€ dist/                       # æ„å»ºè¾“å‡ºï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”œâ”€â”€ package.json               # ä¾èµ–é…ç½®
â””â”€â”€ vite.config.js            # Vite é…ç½®

```

#### Flask é™æ€æ–‡ä»¶æ‰˜ç®¡
åç«¯è‡ªåŠ¨æ‰˜ç®¡å‰ç«¯æ„å»ºæ–‡ä»¶ï¼š
```python
# ocs_ai_answerer_advanced.py
app = Flask(__name__, 
    static_folder='frontend/dist',
    static_url_path='')

@app.route('/')
@app.route('/config')
@app.route('/viewer')
@app.route('/api')
def serve_frontend():
    return send_from_directory(app.static_folder, 'index.html')
```

### ğŸ æ‰“åŒ…æˆEXEï¼ˆå¯é€‰ï¼‰

å¦‚éœ€åˆ¶ä½œä¾¿æºç‰ˆexeæ–‡ä»¶ï¼Œæ–¹ä¾¿åœ¨å…¶ä»–ç”µè„‘ä½¿ç”¨ï¼š

```bash
# æ–¹æ³•1ï¼šä½¿ç”¨è‡ªåŠ¨æ‰“åŒ…è„šæœ¬ï¼ˆæ¨èï¼‰
python build_exe.py

# æˆ–åŒå‡»è¿è¡Œï¼ˆWindowsï¼‰
build_exe.bat

# æ–¹æ³•2ï¼šæ‰‹åŠ¨æ‰“åŒ…
pip install pyinstaller
pyinstaller --onefile --name=OCS-AI-Answerer ocs_ai_answerer_advanced.py
```

æ‰“åŒ…å®Œæˆåï¼š
- å¯æ‰§è¡Œæ–‡ä»¶ä½ç½®ï¼š`dist/OCS-AI-Answerer.exe`
- è¯¦ç»†è¯´æ˜ï¼šæŸ¥çœ‹ [BUILD_GUIDE.md](BUILD_GUIDE.md)

## âš™ï¸ é…ç½®è¯´æ˜

### ğŸ”‘ APIå¯†é’¥è·å–ï¼ˆè¯¦ç»†æ­¥éª¤ï¼‰

#### æ–¹æ¡ˆä¸€ï¼šåªé…ç½® DeepSeekï¼ˆæ¨èæ–°æ‰‹ï¼‰

**ä¼˜ç‚¹**ï¼šæˆæœ¬ä½ã€é…ç½®ç®€å•ã€é€‚åˆçº¯æ–‡æœ¬é¢˜ç›®

1. **æ³¨å†ŒDeepSeekè´¦å·**
   - è®¿é—®ï¼šhttps://platform.deepseek.com/
   - ä½¿ç”¨é‚®ç®±æˆ–æ‰‹æœºå·æ³¨å†Œ

2. **åˆ›å»ºAPIå¯†é’¥**
   - ç™»å½•åè¿›å…¥ï¼šhttps://platform.deepseek.com/api_keys
   - ç‚¹å‡»"åˆ›å»ºAPIå¯†é’¥"æŒ‰é’®
   - å¤åˆ¶ç”Ÿæˆçš„å¯†é’¥ï¼ˆä»¥ `sk-` å¼€å¤´ï¼‰

3. **é…ç½® .env æ–‡ä»¶**
   ```env
   MODEL_PROVIDER=deepseek
   DEEPSEEK_API_KEY=sk-your-key-here  # ç²˜è´´ä½ çš„å¯†é’¥
   ```

#### æ–¹æ¡ˆäºŒï¼šé…ç½® DeepSeek + è±†åŒ…ï¼ˆæ¨èè¿›é˜¶ï¼‰

**ä¼˜ç‚¹**ï¼šæ™ºèƒ½é€‰æ‹©ã€æ”¯æŒå›¾ç‰‡ã€æ•ˆæœæœ€ä¼˜

1. **è·å–DeepSeekå¯†é’¥**ï¼ˆåŒä¸Šï¼‰

2. **è·å–è±†åŒ…å¯†é’¥å’Œæ¨¡å‹ID**
   - è®¿é—®ï¼šhttps://console.volcengine.com/ark
   - æ³¨å†Œ/ç™»å½•ç«å±±å¼•æ“è´¦å·
   - å¼€é€š"è±†åŒ…å¤§æ¨¡å‹"æœåŠ¡
   - åˆ›å»ºæ¨ç†æ¥å…¥ç‚¹ï¼ˆInference Endpointï¼‰
   - è·å–ä¸¤ä¸ªä¿¡æ¯ï¼š
     * APIå¯†é’¥ï¼ˆAPI Keyï¼‰
     * æ¥å…¥ç‚¹IDï¼ˆEndpoint IDï¼‰

3. **é…ç½® .env æ–‡ä»¶**
   ```env
   MODEL_PROVIDER=auto              # æ™ºèƒ½é€‰æ‹©æ¨¡å¼
   DEEPSEEK_API_KEY=sk-xxxxx       # DeepSeekå¯†é’¥
   DOUBAO_API_KEY=xxxxx            # è±†åŒ…å¯†é’¥
   DOUBAO_MODEL=doubao-seed-xxx    # è±†åŒ…æ¥å…¥ç‚¹ID
   ```

### ç¯å¢ƒå˜é‡è¯¦è§£

#### æ¨¡å‹é…ç½®

```env
# æ¨¡å‹æä¾›å•†ï¼ˆdeepseekã€doubao æˆ– autoï¼‰
MODEL_PROVIDER=auto  # auto=æ™ºèƒ½é€‰æ‹©ï¼ˆæ¨èï¼‰

# DeepSeeké…ç½®
DEEPSEEK_API_KEY=sk-xxxxx           # DeepSeek APIå¯†é’¥ ğŸ‘ˆ å¿…å¡«
DEEPSEEK_BASE_URL=https://api.deepseek.com  # APIåœ°å€
DEEPSEEK_MODEL=deepseek-chat        # æ¨¡å‹åç§°

# è±†åŒ…é…ç½®
DOUBAO_API_KEY=xxxxx                # è±†åŒ…APIå¯†é’¥ ğŸ‘ˆ å¯é€‰
DOUBAO_BASE_URL=https://ark.cn-beijing.volces.com/api/v3
DOUBAO_MODEL=doubao-seed-1-6-251015 # æ¨ç†æ¥å…¥ç‚¹ID ğŸ‘ˆ å¯é€‰
```

#### æ€è€ƒæ¨¡å¼é…ç½®

```env
# å…¨å±€å¯ç”¨æ€è€ƒæ¨¡å¼ï¼ˆfalse=æ™®é€šæ¨¡å¼ï¼Œtrue=æ€è€ƒæ¨¡å¼ï¼‰
ENABLE_REASONING=false

# å¤šé€‰é¢˜è‡ªåŠ¨å¯ç”¨æ·±åº¦æ€è€ƒï¼ˆæ¨èå¼€å¯ï¼‰
AUTO_REASONING_FOR_MULTIPLE=true

# å¸¦å›¾ç‰‡é¢˜ç›®è‡ªåŠ¨å¯ç”¨æ·±åº¦æ€è€ƒï¼ˆæ¨èå¼€å¯ï¼‰
AUTO_REASONING_FOR_IMAGES=true

# è±†åŒ…æ€è€ƒå¼ºåº¦ï¼ˆlow/medium/highï¼‰
REASONING_EFFORT=medium
```

**æ€è€ƒæ¨¡å¼è¯´æ˜ï¼š**
- **æ™®é€šæ¨¡å¼**ï¼šå¿«é€Ÿå“åº”ï¼Œé€‚åˆç®€å•é¢˜ç›®ï¼Œä½¿ç”¨ `MAX_TOKENS`
- **æ€è€ƒæ¨¡å¼**ï¼šæ·±åº¦æ¨ç†ï¼Œç­”æ¡ˆæ›´å‡†ç¡®ä½†è€—æ—¶æ›´é•¿ï¼Œä½¿ç”¨ `REASONING_MAX_TOKENS`
- **å¤šé€‰é¢˜è‡ªåŠ¨æ€è€ƒ**ï¼šä»…å¯¹å¤šé€‰é¢˜å¯ç”¨ï¼Œå¹³è¡¡é€Ÿåº¦å’Œå‡†ç¡®ç‡
- **å›¾ç‰‡é¢˜è‡ªåŠ¨æ€è€ƒ**ï¼šä»…å¯¹å¸¦å›¾ç‰‡é¢˜ç›®å¯ç”¨ï¼Œæé«˜å›¾ç‰‡è¯†åˆ«å‡†ç¡®ç‡

> ğŸ’¡ **ä¸ºä»€ä¹ˆéœ€è¦å•ç‹¬é…ç½®æ€è€ƒæ¨¡å¼çš„ tokenï¼Ÿ**
> 
> æ€è€ƒæ¨¡å¼ï¼ˆå¦‚ deepseek-reasonerï¼‰éœ€è¦è¾“å‡ºè¯¦ç»†çš„æ¨ç†è¿‡ç¨‹ï¼Œæ¯”æ™®é€šæ¨¡å¼éœ€è¦æ›´å¤šçš„ tokenã€‚å¦‚æœè®¾ç½®å¤ªå°ï¼Œå¯èƒ½å¯¼è‡´æ¨ç†è¿‡ç¨‹è¢«æˆªæ–­ï¼Œå½±å“ç­”æ¡ˆè´¨é‡ã€‚æ¨èé…ç½®ï¼š
> - `MAX_TOKENS=500`ï¼ˆæ™®é€šæ¨¡å¼ï¼ŒèŠ‚çœæˆæœ¬ï¼‰
> - `REASONING_MAX_TOKENS=4096`ï¼ˆæ€è€ƒæ¨¡å¼ï¼Œç¡®ä¿å®Œæ•´æ¨ç†ï¼‰

#### AIå‚æ•°é…ç½®

```env
TEMPERATURE=0.1               # æ¸©åº¦å‚æ•° (0-2)ï¼Œè¶Šä½è¶Šç¨³å®š
MAX_TOKENS=500               # æ™®é€šæ¨¡å¼æœ€å¤§è¾“å‡ºtokenæ•°
REASONING_MAX_TOKENS=4096    # æ€è€ƒæ¨¡å¼æœ€å¤§è¾“å‡ºtokenæ•°
TOP_P=0.95                   # æ ¸é‡‡æ ·å‚æ•°
```

**å‚æ•°è¯¦è§£ï¼š**

| å‚æ•° | èŒƒå›´ | æ¨èå€¼ | ä½œç”¨è¯´æ˜ |
|------|------|--------|----------|
| **TEMPERATURE** | 0.0-2.0 | 0.1 | **æ§åˆ¶ç­”æ¡ˆçš„éšæœºæ€§å’Œåˆ›é€ æ€§**<br>â€¢ 0.0-0.3ï¼šç¡®å®šæ€§é«˜ï¼Œé€‚åˆç­”é¢˜ï¼ˆæ¨èï¼‰<br>â€¢ 0.4-0.7ï¼šå¹³è¡¡ï¼Œé€‚åˆå¯¹è¯<br>â€¢ 0.8-2.0ï¼šåˆ›é€ æ€§é«˜ï¼Œç­”æ¡ˆå¤šæ ·ä½†å¯èƒ½ä¸å‡†ç¡® |
| **MAX_TOKENS** | 1-8192 | 500 | **æ™®é€šæ¨¡å¼çš„æœ€å¤§è¾“å‡ºé•¿åº¦**<br>â€¢ å¡«ç©ºé¢˜ï¼š200-300 è¶³å¤Ÿ<br>â€¢ é€‰æ‹©é¢˜ï¼š300-500 åˆé€‚<br>â€¢ å¤æ‚é¢˜ç›®ï¼šå¯å¢åŠ åˆ° 1000+<br>â€¢ deepseek-chat æœ€å¤§ï¼š8192 |
| **REASONING_MAX_TOKENS** | 1-65536 | 4096 | **æ€è€ƒæ¨¡å¼çš„æœ€å¤§è¾“å‡ºé•¿åº¦**<br>â€¢ ç®€å•æ€è€ƒï¼š2000-4000<br>â€¢ ä¸­ç­‰å¤æ‚ï¼š4096-8000ï¼ˆæ¨èï¼‰<br>â€¢ å¤æ‚æ¨ç†ï¼š8000-16000<br>â€¢ å›¾ç‰‡é¢˜ï¼šå»ºè®®4096+ï¼ˆæ¨èï¼‰<br>â€¢ deepseek-reasoner æœ€å¤§ï¼š65536 |
| **TOP_P** | 0.0-1.0 | 0.95 | **æ ¸é‡‡æ ·ï¼Œæ§åˆ¶è¯æ±‡é€‰æ‹©èŒƒå›´**<br>â€¢ 0.9-1.0ï¼šè¯æ±‡ä¸°å¯Œï¼Œè¡¨è¾¾å¤šæ ·ï¼ˆæ¨èï¼‰<br>â€¢ 0.5-0.8ï¼šæ›´ä¿å®ˆï¼Œé‡å¤æ€§å¢åŠ <br>â€¢ 0.1-0.4ï¼šéå¸¸ä¿å®ˆï¼Œå¯èƒ½è¿‡äºæœºæ¢° |

**ç­”é¢˜åœºæ™¯æ¨èé…ç½®ï¼š**

```env
# ğŸ¯ è¿½æ±‚å‡†ç¡®ç‡ï¼ˆæ¨èï¼‰
TEMPERATURE=0.1               # ä½æ¸©åº¦ï¼Œå‡å°‘éšæœºæ€§
MAX_TOKENS=500               # æ™®é€šæ¨¡å¼è¾“å‡ºé•¿åº¦
REASONING_MAX_TOKENS=4096    # æ€è€ƒæ¨¡å¼è¾“å‡ºé•¿åº¦
TOP_P=0.95                   # ä¿æŒè‡ªç„¶è¡¨è¾¾

# âš¡ è¿½æ±‚é€Ÿåº¦
TEMPERATURE=0.05             # æ›´ä½æ¸©åº¦ï¼Œæ›´å¿«å†³ç­–
MAX_TOKENS=300              # é™åˆ¶è¾“å‡ºé•¿åº¦
REASONING_MAX_TOKENS=2000   # æ€è€ƒæ¨¡å¼ä¹Ÿé™åˆ¶
TOP_P=0.9                   # ç•¥å¾®é™ä½

# ğŸ”¬ å¤æ‚é¢˜ç›® / æ·±åº¦æ€è€ƒ
TEMPERATURE=0.15             # ç•¥é«˜æ¸©åº¦ï¼Œæ›´å¤šæ€è€ƒ
MAX_TOKENS=1000             # æ›´é•¿çš„è¾“å‡ºç©ºé—´
REASONING_MAX_TOKENS=8192   # æ€è€ƒæ¨¡å¼å¤§å¹…å¢åŠ 
TOP_P=0.95                  # ä¿æŒå¤šæ ·æ€§

# ğŸ§  æé™æ¨ç†ï¼ˆé€‚åˆè¶…éš¾é¢˜ç›®ï¼‰
TEMPERATURE=0.1              # ä¿æŒç¨³å®š
MAX_TOKENS=1000             
REASONING_MAX_TOKENS=16384  # ç»™æ€è€ƒæ¨¡å¼æœ€å¤§ç©ºé—´
TOP_P=0.95
```

**å‚æ•°ç»„åˆæ•ˆæœï¼š**

- **TEMPERATURE â†“ + TOP_P â†‘**ï¼šå‡†ç¡®ä½†è‡ªç„¶ï¼ˆæœ€ä½³ï¼‰
- **TEMPERATURE â†“ + TOP_P â†“**ï¼šå‡†ç¡®ä½†æœºæ¢°
- **TEMPERATURE â†‘ + TOP_P â†‘**ï¼šå¤šæ ·ä½†ä¸ç¨³å®š
- **TEMPERATURE â†‘ + TOP_P â†“**ï¼šä¸æ¨èï¼ˆå®¹æ˜“å‡ºé”™ï¼‰

#### ç½‘ç»œé…ç½®

```env
HTTP_PROXY=             # HTTPä»£ç†ï¼ˆå¯é€‰ï¼‰
HTTPS_PROXY=            # HTTPSä»£ç†ï¼ˆå¯é€‰ï¼‰
TIMEOUT=1200.0          # è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
MAX_RETRIES=3           # æœ€å¤§é‡è¯•æ¬¡æ•°
```

#### æœåŠ¡é…ç½®

```env
HOST=0.0.0.0            # ç›‘å¬åœ°å€
PORT=5000               # ç›‘å¬ç«¯å£
DEBUG=False             # è°ƒè¯•æ¨¡å¼
CSV_LOG_FILE=ocs_answers_log.csv  # CSVæ—¥å¿—æ–‡ä»¶è·¯å¾„
```

## ğŸ”§ é…ç½®OCSè„šæœ¬

### å‰ç½®è¦æ±‚

ç¡®ä¿å·²å®‰è£… OCS è„šæœ¬ã€‚å¦‚æœè¿˜æ²¡æœ‰å®‰è£…ï¼Œè¯·å‚è€ƒ [å¿«é€Ÿå¼€å§‹ - ç¬¬4æ­¥](#4-é…ç½®ocsè„šæœ¬)ã€‚

> ğŸ’¡ **æç¤º**ï¼šæ¨èä½¿ç”¨æœ¬é¡¹ç›®æä¾›çš„ `ocs.user.js`ï¼Œå·²åŒ…å« AI ç­”é¢˜çš„æ ‡ç­¾å…¼å®¹æ€§ä¼˜åŒ–ã€‚

### å¯¼å…¥é…ç½®æ–‡ä»¶

1. æ‰“å¼€OCSè„šæœ¬æ‚¬æµ®çª—
2. è¿›å…¥"é€šç”¨" â†’ "å…¨å±€è®¾ç½®"
3. æ‰¾åˆ°"é¢˜åº“é…ç½®"ï¼Œç‚¹å‡»"ç‚¹å‡»é…ç½®"
4. é€‰æ‹©"è‡ªå®šä¹‰é…ç½®"
5. å°† `ocs_config.json` çš„å†…å®¹ç²˜è´´åˆ°æ–‡æœ¬æ¡†
6. ç‚¹å‡»"è§£æå¹¶ä¿å­˜"

### é…ç½®æ–‡ä»¶å†…å®¹ï¼ˆ`ocs_config.json`ï¼‰

```json
{
  "name": "AIæ™ºèƒ½ç­”é¢˜",
  "url": "http://localhost:5000/api/answer",
  "method": "post",
  "type": "fetch",
  "contentType": "json",
  "homepage": "https://github.com/lkd6666/ocs-ai-answerer",
  "headers": {
    "Content-Type": "application/json"
  },
  "data": {
    "question": "${title}",
    "options": {
      "handler": "return (env)=>env.options?.split('\\n')"
    },
    "type": {
      "handler": "return (env)=> env.type === 'single' ? 0 : env.type === 'multiple' ? 1 : env.type === 'completion' ? 3 : env.type === 'judgement' ? 4 : 0"
    },
    "images": {
      "handler": "return (env)=> { const imgPattern = /https?:\\/\\/[^\\s]+\\.(?:jpg|jpeg|png|gif|bmp|webp)/gi; return env.title?.match(imgPattern) || []; }"
    }
  },
  "handler": "return (res)=>res.success && res.ocs_format ? [res.ocs_format] : []"
}
```

### éªŒè¯é…ç½®

é…ç½®æˆåŠŸåï¼Œè¿›å…¥ä»»æ„ä½œä¸š/è€ƒè¯•é¡µé¢ï¼ŒOCSåº”è¯¥æ˜¾ç¤ºï¼š

> âœ… å½“å‰æœ‰1ä¸ªå¯ç”¨é¢˜åº“ï¼šAIæ™ºèƒ½ç­”é¢˜

### OCS è„šæœ¬æ ‡ç­¾å…¼å®¹æ€§

å¦‚æœä½¿ç”¨å®˜æ–¹åŸç‰ˆ OCS è„šæœ¬ï¼Œå¯èƒ½ä¸æ”¯æŒ `purple` å’Œ `orange` æ ‡ç­¾é¢œè‰²ã€‚å»ºè®®ï¼š

1. **ä½¿ç”¨é¡¹ç›®æä¾›çš„ `ocs.user.js`**ï¼ˆæ¨èï¼‰
   - å·²åŒ…å«æ‰€æœ‰æ ‡ç­¾é¢œè‰²æ”¯æŒ
   - é¢˜åº“è¶…æ—¶è®¾ç½®ä¸º3åˆ†é’Ÿ
   - å®Œç¾å…¼å®¹ AI ç­”é¢˜åŠŸèƒ½

2. **æˆ–ä¿®æ”¹ç°æœ‰ OCS è„šæœ¬**
   - åœ¨ OCS è„šæœ¬ä¸­æ·»åŠ ä»¥ä¸‹ CSSï¼ˆæœç´¢ `.search-result-answer-tag` éƒ¨åˆ†ï¼‰ï¼š
   ```css
   .search-result-answer-tag.purple {
     background-color: #9b59b6;
     color: white;
   }
   .search-result-answer-tag.orange {
     background-color: #e67e22;
     color: white;
   }
   ```

### æ ‡ç­¾è¯´æ˜

ä½¿ç”¨æœ¬é¡¹ç›®çš„ AI ç­”é¢˜æ—¶ï¼Œä¼šæ˜¾ç¤ºä»¥ä¸‹æ ‡ç­¾ï¼š

| æ ‡ç­¾ | é¢œè‰² | è¯´æ˜ |
|------|------|------|
| AI | ğŸ”µ è“è‰² | OCSè‡ªåŠ¨æ·»åŠ ï¼Œè¡¨ç¤ºAIç­”é¢˜ |
| æ·±åº¦æ€è€ƒ | ğŸŸ£ ç´«è‰² | ä½¿ç”¨æ€è€ƒæ¨¡å¼ï¼ˆéœ€å…¼å®¹è„šæœ¬ï¼‰|
| è‡ªåŠ¨æ€è€ƒ | ğŸŸ  æ©™è‰² | å¤šé€‰é¢˜è‡ªåŠ¨å¯ç”¨æ€è€ƒï¼ˆéœ€å…¼å®¹è„šæœ¬ï¼‰|
| æ™ºèƒ½é€‰æ‹© | ğŸ”µ è“è‰² | æ™ºèƒ½æ¨¡å‹é€‰æ‹©æ¨¡å¼ |
| DEEPSEEK/DOUBAO | ğŸŸ¢ ç»¿è‰² | å®é™…ä½¿ç”¨çš„æ¨¡å‹ |

## ğŸ“š APIæ–‡æ¡£

### 1. ç­”é¢˜æ¥å£

#### è¯·æ±‚

```http
POST /api/answer
Content-Type: application/json

{
  "question": "ä¸­å›½çš„é¦–éƒ½æ˜¯å“ªé‡Œï¼Ÿ",
  "options": ["åŒ—äº¬", "ä¸Šæµ·", "å¹¿å·", "æ·±åœ³"],
  "type": 0,
  "images": []
}
```

#### å‚æ•°è¯´æ˜

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| question | string | æ˜¯ | é¢˜ç›®å†…å®¹ |
| options | array | å¦ | é€‰é¡¹åˆ—è¡¨ï¼ˆå¡«ç©ºé¢˜å¯ä¸ºç©ºï¼‰|
| type | integer | æ˜¯ | é¢˜å‹ï¼š0=å•é€‰, 1=å¤šé€‰, 3=å¡«ç©º, 4=åˆ¤æ–­ |
| images | array | å¦ | å›¾ç‰‡URLåˆ—è¡¨ï¼ˆä»…è±†åŒ…æ”¯æŒï¼‰|

#### å“åº”

```json
{
  "success": true,
  "question": "ä¸­å›½çš„é¦–éƒ½æ˜¯å“ªé‡Œï¼Ÿ",
  "answer": "åŒ—äº¬",
  "type": "single",
  "raw_answer": "åŒ—äº¬",
  "model": "deepseek-chat",
  "provider": "deepseek",
  "reasoning_used": false,
  "ai_time": 1.23,
  "total_time": 1.25,
  "ocs_format": [
    "ä¸­å›½çš„é¦–éƒ½æ˜¯å“ªé‡Œï¼Ÿ",
    "åŒ—äº¬",
    {
      "ai": true,
      "tags": [
        {"text": "DEEPSEEK", "title": "æ¨¡å‹: deepseek-chat", "color": "green"}
      ],
      "model": "deepseek-chat",
      "provider": "deepseek",
      "reasoning_used": false,
      "ai_time": 1.23,
      "total_time": 1.25
    }
  ]
}
```

#### å“åº”å­—æ®µ

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| success | boolean | æ˜¯å¦æˆåŠŸ |
| question | string | é¢˜ç›®ï¼ˆå›æ˜¾ï¼‰|
| answer | string | å¤„ç†åçš„ç­”æ¡ˆ |
| type | string | é¢˜å‹åç§° |
| raw_answer | string | AIåŸå§‹è¿”å› |
| model | string | ä½¿ç”¨çš„æ¨¡å‹ |
| provider | string | æ¨¡å‹æä¾›å•† |
| reasoning_used | boolean | æ˜¯å¦ä½¿ç”¨æ€è€ƒæ¨¡å¼ |
| ai_time | float | AIç­”é¢˜è€—æ—¶ï¼ˆç§’ï¼‰|
| total_time | float | æ€»å¤„ç†è€—æ—¶ï¼ˆç§’ï¼‰|
| ocs_format | array | OCSè„šæœ¬æ ¼å¼æ•°æ® |

### 2. å¥åº·æ£€æŸ¥æ¥å£

```http
GET /api/health

Response:
{
  "status": "ok",
  "service": "OCS AI Answerer (Multi-Model)",
  "version": "3.0.0",
  "provider": "deepseek",
  "model": "deepseek-chat",
  "reasoning_enabled": false,
  "api_configured": true,
  "security_enabled": true
}
```

### 3. é…ç½®ç®¡ç†æ¥å£ï¼ˆéœ€è¦è®¤è¯ï¼‰

#### è·å–é…ç½®
```http
GET /api/config
Headers: X-API-Key: <your-access-key>

Response:
{
  "MODEL_PROVIDER": "auto",
  "DEEPSEEK_API_KEY": "sk-xxxxx...",
  "DOUBAO_API_KEY": "xxxxx...",
  "ENABLE_REASONING": "false",
  "AUTO_REASONING_FOR_MULTIPLE": "true",
  "AUTO_REASONING_FOR_IMAGES": "true",
  "TEMPERATURE": "0.1",
  "MAX_TOKENS": "500",
  ...
}
```

#### ä¿å­˜é…ç½®
```http
POST /api/config
Headers: X-API-Key: <your-access-key>
Content-Type: application/json

{
  "MODEL_PROVIDER": "auto",
  "DEEPSEEK_API_KEY": "sk-new-key",
  "TEMPERATURE": "0.15",
  ...
}

Response:
{
  "success": true,
  "message": "é…ç½®å·²æˆåŠŸä¿å­˜åˆ° .env æ–‡ä»¶",
  "updated": 3,
  "added": 0
}
```

### 4. æœåŠ¡å™¨é‡å¯æ¥å£ï¼ˆéœ€è¦è®¤è¯ï¼‰

```http
POST /api/restart
Headers: X-API-Key: <your-access-key>

Response:
{
  "success": true,
  "message": "æœåŠ¡å™¨å°†åœ¨ 1 ç§’åé‡å¯"
}
```

### 5. è®¤è¯ç›¸å…³æ¥å£

#### éªŒè¯å¯†é’¥
```http
POST /api/auth/verify
Content-Type: application/json

{
  "api_key": "your-access-key"
}

Response:
{
  "valid": true
}
```

#### æ›´æ–°è®¿é—®å¯†é’¥
```http
POST /api/auth/update-key
Headers: X-API-Key: <your-old-key>
Content-Type: application/json

{
  "old_key": "old-access-key",
  "new_key": "new-access-key"
}

Response:
{
  "success": true,
  "message": "è®¿é—®å¯†é’¥å·²æ›´æ–°"
}
```

#### è·å–è®¤è¯çŠ¶æ€
```http
GET /api/auth/status
Headers: X-API-Key: <your-access-key>

Response:
{
  "authenticated": true
}
```

### 6. CSVæ•°æ®æ¥å£

#### è·å–æ•°æ®ï¼ˆæ”¯æŒåˆ†é¡µå’Œç­›é€‰ï¼‰
```http
GET /api/csv?page=1&page_size=20&search=é¢˜ç›®&type=å•é€‰é¢˜

Response:
{
  "success": true,
  "data": [...],
  "total": 100,
  "page": 1,
  "page_size": 20,
  "total_pages": 5
}
```

#### è·å–ç»Ÿè®¡æ•°æ®
```http
GET /api/csv/stats

Response:
{
  "total": 100,
  "avgTime": 1.23,
  "reasoningCount": 20,
  "totalTime": 123.45,
  "totalCost": 0.5678,
  "totalTokens": 50000,
  "inputTokens": 30000,
  "outputTokens": 20000
}
```

#### æ¸…ç©ºæ•°æ®ï¼ˆéœ€è¦è®¤è¯ï¼‰
```http
POST /api/csv/clear
Headers: X-API-Key: <your-access-key>

Response:
{
  "success": true,
  "message": "CSVæ–‡ä»¶å·²æ¸…ç©º"
}
```

### 7. å‰ç«¯é¡µé¢è·¯ç”±

```http
GET /              # é¦–é¡µï¼ˆé‡å®šå‘åˆ°é…ç½®é¡µé¢ï¼‰
GET /config        # é…ç½®ç®¡ç†é¢æ¿ï¼ˆéœ€è¦è®¤è¯ï¼‰
GET /viewer        # ç­”é¢˜è®°å½•å¯è§†åŒ–ï¼ˆå…¬å¼€è®¿é—®ï¼‰
GET /api           # API æ–‡æ¡£é¡µé¢ï¼ˆå…¬å¼€è®¿é—®ï¼‰
```
GET /?t=<timestamp>
# OCSè„šæœ¬ç”¨äºæµ‹è¯•è¿æ¥å»¶è¿Ÿ
```

## ğŸ¯ åŠŸèƒ½ä»‹ç»

### 1. å¤šæ¨¡å‹æ”¯æŒ

æ”¯æŒDeepSeekå’Œè±†åŒ…ä¸¤ä¸ªæ¨¡å‹ï¼Œå¯é€šè¿‡ç¯å¢ƒå˜é‡åˆ‡æ¢ï¼š

```env
MODEL_PROVIDER=deepseek  # æˆ– doubao
```

#### DeepSeek
- **æ™®é€šæ¨¡å¼**ï¼š`deepseek-chat`ï¼Œæœ€å¤§8K tokens
- **æ€è€ƒæ¨¡å¼**ï¼š`deepseek-reasoner`ï¼Œæœ€å¤§64K tokens
- **ç‰¹ç‚¹**ï¼šå“åº”å¿«é€Ÿï¼Œæ€§ä»·æ¯”é«˜

#### è±†åŒ…ï¼ˆDoubaoï¼‰
- **æ¨¡å‹**ï¼šè‡ªå®šä¹‰æ¨ç†æ¥å…¥ç‚¹
- **æ€è€ƒå¼ºåº¦**ï¼šå¯é…ç½® low/medium/high
- **ç‰¹ç‚¹**ï¼šæ”¯æŒå›¾ç‰‡è¾“å…¥ï¼Œå¤šæ¨¡æ€ç†è§£

### 2. æ€è€ƒæ¨¡å¼

#### è‡ªåŠ¨å¯ç”¨ç­–ç•¥
- **å¤šé€‰é¢˜**ï¼šè‡ªåŠ¨å¯ç”¨æ·±åº¦æ€è€ƒï¼ˆå¯é…ç½® `AUTO_REASONING_FOR_MULTIPLE`ï¼‰
- **å›¾ç‰‡é¢˜**ï¼šè‡ªåŠ¨å¯ç”¨æ·±åº¦æ€è€ƒï¼ˆå¯é…ç½® `AUTO_REASONING_FOR_IMAGES`ï¼‰
- **å•é€‰/åˆ¤æ–­/å¡«ç©ºï¼ˆæ— å›¾ç‰‡ï¼‰**ï¼šä½¿ç”¨æ™®é€šæ¨¡å¼ï¼ˆé™¤éå…¨å±€å¯ç”¨ï¼‰

#### æ ‡ç­¾å±•ç¤º
åœ¨OCSç•Œé¢ä¸­ä¼šæ˜¾ç¤ºï¼š
- ğŸ”µ **AI** - OCSè‡ªåŠ¨æ·»åŠ 
- ğŸŸ£ **æ·±åº¦æ€è€ƒ** - ä½¿ç”¨æ€è€ƒæ¨¡å¼æ—¶æ˜¾ç¤º
- ğŸŸ¡ **è‡ªåŠ¨æ€è€ƒ** - å¤šé€‰é¢˜æˆ–å›¾ç‰‡é¢˜è‡ªåŠ¨å¯ç”¨æ—¶æ˜¾ç¤º
- ğŸŸ¢ **DEEPSEEK/DOUBAO** - æ¨¡å‹æ ‡è¯†

### 3. å›¾ç‰‡æ”¯æŒï¼ˆè±†åŒ…ï¼‰

#### è‡ªåŠ¨æå–
ä»é¢˜å¹²å’Œé€‰é¡¹ä¸­è‡ªåŠ¨æå–å›¾ç‰‡URLï¼š
- æ”¯æŒæ ¼å¼ï¼šjpg, jpeg, png, gif, bmp, webp
- è‡ªåŠ¨å»é‡
- åŒæ—¶æ£€æµ‹é¢˜å¹²å’Œé€‰é¡¹ä¸­çš„å›¾ç‰‡

#### æ™ºèƒ½æ€è€ƒ
- æ£€æµ‹åˆ°å›¾ç‰‡æ—¶è‡ªåŠ¨å¯ç”¨æ·±åº¦æ€è€ƒæ¨¡å¼ï¼ˆå¯é…ç½® `AUTO_REASONING_FOR_IMAGES`ï¼‰
- æé«˜å›¾ç‰‡è¯†åˆ«å’Œç†è§£å‡†ç¡®ç‡
- æ”¯æŒå¤šé€‰é¢˜+å›¾ç‰‡é¢˜åŒæ—¶è§¦å‘

#### æ™ºèƒ½è¿‡æ»¤
è¿‡æ»¤æ— å…³å›¾æ ‡URLï¼š
- `/icon/`, `/icons/`
- `video.png`, `audio.png`
- `play.png`, `pause.png`

#### è‡ªåŠ¨é™çº§
- é¦–æ¬¡å°è¯•ä½¿ç”¨å›¾ç‰‡
- å¦‚æœå›¾ç‰‡è®¿é—®å¤±è´¥ï¼Œè‡ªåŠ¨åˆ‡æ¢çº¯æ–‡æœ¬æ¨¡å¼
- ç¡®ä¿ç­”é¢˜æµç¨‹ä¸ä¸­æ–­

### 4. CSVæ—¥å¿—è®°å½•

è‡ªåŠ¨è®°å½•æ¯é“é¢˜çš„è¯¦ç»†ä¿¡æ¯ï¼š

| å­—æ®µ | è¯´æ˜ |
|------|------|
| æ—¶é—´æˆ³ | ç­”é¢˜æ—¶é—´ |
| é¢˜å‹ | å•é€‰/å¤šé€‰/åˆ¤æ–­/å¡«ç©º |
| é¢˜ç›® | å®Œæ•´é¢˜ç›®æ–‡æœ¬ |
| é€‰é¡¹ | æ‰€æœ‰é€‰é¡¹ï¼ˆç”¨ \| åˆ†éš”ï¼‰|
| åŸå§‹å›ç­” | AIåŸå§‹è¿”å›çš„ç­”æ¡ˆ |
| æ€è€ƒè¿‡ç¨‹ | æ¨ç†è¿‡ç¨‹ï¼ˆå¦‚æœæœ‰ï¼‰|
| å¤„ç†åç­”æ¡ˆ | æ¸…æ´—åçš„æœ€ç»ˆç­”æ¡ˆ |
| AIè€—æ—¶(ç§’) | AIè°ƒç”¨è€—æ—¶ |
| æ€»è€—æ—¶(ç§’) | æ€»å¤„ç†è€—æ—¶ |
| æ¨¡å‹ | ä½¿ç”¨çš„æ¨¡å‹ |
| æ€è€ƒæ¨¡å¼ | æ˜¯/å¦ |

### 5. æ•°æ®å¯è§†åŒ–

è®¿é—® `http://localhost:5000/viewer` æŸ¥çœ‹ï¼š

- ğŸ“Š **é¢˜å‹åˆ†å¸ƒ**ï¼šé¥¼å›¾æ˜¾ç¤ºå„é¢˜å‹æ•°é‡
- ğŸ“ˆ **æ€è€ƒæ¨¡å¼ä½¿ç”¨**ï¼šæ€è€ƒvsæ™®é€šæ¨¡å¼ç»Ÿè®¡
- â±ï¸ **å¹³å‡è€—æ—¶**ï¼šAIè€—æ—¶å’Œæ€»è€—æ—¶å¯¹æ¯”
- ğŸ“‹ **è¯¦ç»†åˆ—è¡¨**ï¼šå¯æœç´¢ã€è¿‡æ»¤çš„é¢˜ç›®åˆ—è¡¨
- ğŸ” **è¯¦æƒ…æŸ¥çœ‹**ï¼šç‚¹å‡»é¢˜ç›®æŸ¥çœ‹å®Œæ•´ä¿¡æ¯

åŠŸèƒ½ï¼š
- æœç´¢é¢˜ç›®/ç­”æ¡ˆ
- æŒ‰é¢˜å‹è¿‡æ»¤
- æŒ‰æ€è€ƒæ¨¡å¼è¿‡æ»¤
- å¯¼å‡ºæ•°æ®
- æ¸…ç©ºæ•°æ®

## ğŸ§ª æµ‹è¯•ç¤ºä¾‹

### ä½¿ç”¨curlæµ‹è¯•

```bash
# å•é€‰é¢˜
curl -X POST http://localhost:5000/api/answer \
  -H "Content-Type: application/json" \
  -d '{
    "question": "ä¸–ç•Œä¸Šæœ€é«˜çš„å±±å³°æ˜¯ï¼Ÿ",
    "options": ["æ³°å±±", "ç ç©†æœ—ç›å³°", "åå±±", "é»„å±±"],
    "type": 0
  }'

# å¤šé€‰é¢˜ï¼ˆè‡ªåŠ¨å¯ç”¨æ·±åº¦æ€è€ƒï¼‰
curl -X POST http://localhost:5000/api/answer \
  -H "Content-Type: application/json" \
  -d '{
    "question": "ä»¥ä¸‹å“ªäº›æ˜¯Pythonçš„ç‰¹ç‚¹ï¼Ÿ",
    "options": ["ç®€æ´", "é«˜æ•ˆ", "è·¨å¹³å°", "å¼€æº"],
    "type": 1
  }'

# å¸¦å›¾ç‰‡çš„é¢˜ç›®ï¼ˆè±†åŒ…ï¼‰
curl -X POST http://localhost:5000/api/answer \
  -H "Content-Type: application/json" \
  -d '{
    "question": "å›¾ç‰‡ä¸­æ˜¯ä»€ä¹ˆåŠ¨ç‰©ï¼Ÿ http://example.com/image.jpg",
    "options": ["çŒ«", "ç‹—", "é¸Ÿ", "é±¼"],
    "type": 0,
    "images": ["http://example.com/image.jpg"]
  }'
```

### ä½¿ç”¨Pythonæµ‹è¯•

```python
import requests

url = "http://localhost:5000/api/answer"

# æµ‹è¯•å•é€‰é¢˜
response = requests.post(url, json={
    "question": "1+1ç­‰äºå‡ ï¼Ÿ",
    "options": ["1", "2", "3", "4"],
    "type": 0
})

print(response.json())
# Output: {"success": true, "answer": "2", ...}
```

## â“ å¸¸è§é—®é¢˜

### Q1: å¦‚ä½•é€‰æ‹©æ¨¡å‹ï¼Ÿ

**æ™ºèƒ½é€‰æ‹©æ¨¡å¼ï¼ˆv2.1 - å·²å®ç°ï¼‰ï¼šâœ… æ¨è**

```env
MODEL_PROVIDER=auto  # æ™ºèƒ½è‡ªåŠ¨é€‰æ‹©
```

**å·¥ä½œåŸç†ï¼š**
- ğŸ“· **æœ‰å›¾ç‰‡** â†’ è‡ªåŠ¨ä½¿ç”¨è±†åŒ…ï¼ˆå¤šæ¨¡æ€ç†è§£ï¼‰
- ğŸ“ **çº¯æ–‡æœ¬** â†’ è‡ªåŠ¨ä½¿ç”¨DeepSeekï¼ˆæˆæœ¬æ›´ä½ï¼‰
- ğŸ’° **è‡ªåŠ¨ä¼˜åŒ–**ï¼šæˆæœ¬å’Œæ•ˆç‡æœ€ä½³å¹³è¡¡

**å‰ææ¡ä»¶ï¼š**
- éœ€è¦é…ç½®ä¸¤ä¸ªæ¨¡å‹çš„APIå¯†é’¥
- è‡³å°‘é…ç½®ä¸€ä¸ªä¹Ÿå¯å·¥ä½œï¼ˆä¼šé™çº§æç¤ºï¼‰

**å›ºå®šæ¨¡å¼ï¼ˆæ‰‹åŠ¨é€‰æ‹©ï¼‰ï¼š**

```env
MODEL_PROVIDER=deepseek  # æˆ– doubao
```

**DeepSeek** é€‚åˆï¼š
- âœ… é¢„ç®—æœ‰é™
- âœ… çº¯æ–‡æœ¬é¢˜ç›®
- âœ… éœ€è¦å¿«é€Ÿå“åº”

**è±†åŒ…** é€‚åˆï¼š
- âœ… æœ‰å›¾ç‰‡çš„é¢˜ç›®
- âœ… éœ€è¦å¤šæ¨¡æ€ç†è§£
- âœ… è¿½æ±‚æ›´é«˜å‡†ç¡®ç‡

### Q2: æ€è€ƒæ¨¡å¼åº”è¯¥å¯ç”¨å—ï¼Ÿ

æ¨èé…ç½®ï¼š
```env
ENABLE_REASONING=false              # å…¨å±€ä¸å¯ç”¨ï¼ˆèŠ‚çœæˆæœ¬ï¼‰
AUTO_REASONING_FOR_MULTIPLE=true    # å¤šé€‰é¢˜è‡ªåŠ¨å¯ç”¨ï¼ˆæé«˜å‡†ç¡®ç‡ï¼‰
AUTO_REASONING_FOR_IMAGES=true      # å›¾ç‰‡é¢˜è‡ªåŠ¨å¯ç”¨ï¼ˆæé«˜è¯†åˆ«å‡†ç¡®ç‡ï¼‰
```

**å…¨å±€å¯ç”¨æ€è€ƒæ¨¡å¼**ä¼šï¼š
- âœ… æ˜¾è‘—æé«˜ç­”æ¡ˆå‡†ç¡®ç‡
- âŒ å¢åŠ APIè°ƒç”¨è€—æ—¶
- âŒ å¢åŠ APIè°ƒç”¨æˆæœ¬

**è‡ªåŠ¨æ€è€ƒæ¨¡å¼**ï¼ˆæ¨èï¼‰ï¼š
- âœ… åªåœ¨éœ€è¦æ—¶å¯ç”¨ï¼ˆå¤šé€‰é¢˜ã€å›¾ç‰‡é¢˜ï¼‰
- âœ… å¹³è¡¡å‡†ç¡®ç‡å’Œæˆæœ¬
- âœ… è‡ªåŠ¨åˆ¤æ–­ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®

### Q3: APIè¿”å›"Connection error"

å¯èƒ½åŸå› ï¼š
1. **ç½‘ç»œé—®é¢˜**ï¼šæ£€æŸ¥ç½‘ç»œè¿æ¥
2. **ä»£ç†é…ç½®**ï¼šå¦‚éœ€ä»£ç†ï¼Œé…ç½® `HTTP_PROXY`/`HTTPS_PROXY`
3. **å›¾ç‰‡URLé—®é¢˜**ï¼ˆè±†åŒ…ï¼‰ï¼š
   - å›¾ç‰‡URLéœ€è¦è®¤è¯
   - å›¾ç‰‡URLæ— æ³•ä»è±†åŒ…æœåŠ¡å™¨è®¿é—®
   - ä¼šè‡ªåŠ¨é™çº§ä¸ºçº¯æ–‡æœ¬æ¨¡å¼

è§£å†³æ–¹æ¡ˆï¼š
```env
# é…ç½®ä»£ç†
HTTP_PROXY=http://proxy.example.com:8080
HTTPS_PROXY=http://proxy.example.com:8080

# å¢åŠ è¶…æ—¶æ—¶é—´
TIMEOUT=120.0

# å¢åŠ é‡è¯•æ¬¡æ•°
MAX_RETRIES=5
```

### Q4: å›¾ç‰‡é¢˜ç›®æ— æ³•è¯†åˆ«

**æ£€æŸ¥æ¸…å•ï¼š**
1. ç¡®è®¤ä½¿ç”¨è±†åŒ…æ¨¡å‹ï¼š`MODEL_PROVIDER=doubao`
2. æ£€æŸ¥å›¾ç‰‡URLæ˜¯å¦å¯è®¿é—®
3. æŸ¥çœ‹æ§åˆ¶å°æ˜¯å¦æ˜¾ç¤º"ğŸ“· å›¾ç‰‡"
4. æ£€æŸ¥æ˜¯å¦è¢«è¿‡æ»¤ä¸ºå›¾æ ‡URL

**DeepSeekä¸æ”¯æŒå›¾ç‰‡**ï¼Œä¼šè‡ªåŠ¨å¿½ç•¥å›¾ç‰‡URLã€‚

### Q5: ç­”æ¡ˆæ ¼å¼ä¸æ­£ç¡®

æŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºï¼š
```
ğŸ¤– AIåŸå§‹å›ç­”: åŒ—äº¬#ä¸Šæµ·
âœ… å¤„ç†åç­”æ¡ˆ: åŒ—äº¬#ä¸Šæµ·
```

å¦‚æœåŸå§‹å›ç­”æ­£ç¡®ä½†å¤„ç†åç­”æ¡ˆé”™è¯¯ï¼Œå¯èƒ½éœ€è¦è°ƒæ•´ `AnswerProcessor` ç±»ã€‚

### Q6: CSVæ—¥å¿—æ–‡ä»¶å¤ªå¤§

æ¸…ç©ºæ—¥å¿—æ–‡ä»¶ï¼š
```bash
# æ–¹æ³•1ï¼šé€šè¿‡API
curl -X POST http://localhost:5000/api/csv/clear

# æ–¹æ³•2ï¼šé€šè¿‡å¯è§†åŒ–é¡µé¢
è®¿é—® http://localhost:5000/viewer
ç‚¹å‡»"æ¸…ç©ºæ•°æ®"æŒ‰é’®

# æ–¹æ³•3ï¼šæ‰‹åŠ¨åˆ é™¤
rm ocs_answers_log.csv  # Linux/Mac
del ocs_answers_log.csv  # Windows
```

### Q7: å¦‚ä½•æé«˜ç­”é¢˜å‡†ç¡®ç‡ï¼Ÿ

**ç­–ç•¥ï¼š**
1. **å¯ç”¨è‡ªåŠ¨æ€è€ƒ**ï¼š
   - `AUTO_REASONING_FOR_MULTIPLE=true`ï¼ˆå¤šé€‰é¢˜ï¼Œé»˜è®¤å¼€å¯ï¼‰
   - `AUTO_REASONING_FOR_IMAGES=true`ï¼ˆå›¾ç‰‡é¢˜ï¼Œé»˜è®¤å¼€å¯ï¼‰
2. **å…¨å±€æ€è€ƒæ¨¡å¼**ï¼ˆå¯é€‰ï¼‰ï¼š`ENABLE_REASONING=true`ï¼ˆæ‰€æœ‰é¢˜ç›®ï¼‰
3. **é™ä½æ¸©åº¦**ï¼š`TEMPERATURE=0.05`ï¼ˆæ›´ä¿å®ˆï¼‰
4. **ä½¿ç”¨è±†åŒ…**ï¼šå›¾ç‰‡é¢˜ç›®å‡†ç¡®ç‡æ›´é«˜
5. **æ™ºèƒ½æ¨¡å‹é€‰æ‹©**ï¼š`MODEL_PROVIDER=auto`ï¼ˆè‡ªåŠ¨é€‰æ‹©æœ€ä¼˜æ¨¡å‹ï¼‰
6. **ä¼˜åŒ–Prompt**ï¼šæ ¹æ®å­¦ç§‘è°ƒæ•´Prompt

### Q8: æœåŠ¡å™¨éƒ¨ç½²

ä½¿ç”¨ gunicornï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰ï¼š

```bash
# å®‰è£…gunicorn
pip install gunicorn

# å¯åŠ¨æœåŠ¡ï¼ˆ4ä¸ªworkerï¼‰
gunicorn -w 4 -b 0.0.0.0:5000 ocs_ai_answerer_advanced:app

# åå°è¿è¡Œ
nohup gunicorn -w 4 -b 0.0.0.0:5000 ocs_ai_answerer_advanced:app &
```

ä½¿ç”¨ systemdï¼ˆLinuxå¼€æœºè‡ªå¯ï¼‰ï¼š

```bash
# åˆ›å»ºæœåŠ¡æ–‡ä»¶
sudo nano /etc/systemd/system/ocs-ai.service
```

```ini
[Unit]
Description=OCS AI Answerer Service
After=network.target

[Service]
Type=simple
User=your-user
WorkingDirectory=/path/to/ocs-ai-answerer
Environment="PATH=/path/to/venv/bin"
ExecStart=/path/to/venv/bin/gunicorn -w 4 -b 0.0.0.0:5000 ocs_ai_answerer_advanced:app
Restart=always

[Install]
WantedBy=multi-user.target
```

```bash
# å¯åŠ¨æœåŠ¡
sudo systemctl start ocs-ai
sudo systemctl enable ocs-ai  # å¼€æœºè‡ªå¯
```

### Q9: ç½‘ç»œä»£ç†é…ç½®

```env
# é…ç½®HTTPä»£ç†
HTTP_PROXY=http://proxy.example.com:8080
HTTPS_PROXY=http://proxy.example.com:8080

# æˆ–ä½¿ç”¨socks5ä»£ç†
HTTP_PROXY=socks5://127.0.0.1:1080
HTTPS_PROXY=socks5://127.0.0.1:1080
```

### Q10: APIå¯†é’¥å®‰å…¨

**ä¸è¦ï¼š**
- âŒ å°†çœŸå®å¯†é’¥æäº¤åˆ°Gitä»“åº“
- âŒ åœ¨å…¬å¼€ä»£ç ä¸­ç¡¬ç¼–ç å¯†é’¥
- âŒ åˆ†äº«åŒ…å«å¯†é’¥çš„`.env`æ–‡ä»¶

**åº”è¯¥ï¼š**
- âœ… ä½¿ç”¨`.env`æ–‡ä»¶å­˜å‚¨å¯†é’¥
- âœ… å°†`.env`æ·»åŠ åˆ°`.gitignore`
- âœ… ä½¿ç”¨ç¯å¢ƒå˜é‡æˆ–å¯†é’¥ç®¡ç†æœåŠ¡ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
- âœ… å®šæœŸè½®æ¢APIå¯†é’¥
- âœ… ä½¿ç”¨è®¿é—®å¯†é’¥ä¿æŠ¤é…ç½®é¡µé¢

### Q11: å‰ç«¯å¼€å‘å’Œè°ƒè¯•

#### å¼€å‘ç¯å¢ƒè®¾ç½®
```bash
cd frontend
npm install
npm run dev  # å¯åŠ¨å¼€å‘æœåŠ¡å™¨ http://localhost:5173
```

#### ä¿®æ”¹åé‡æ–°æ„å»º
```bash
cd frontend
npm run build  # æ„å»ºåˆ° dist/ ç›®å½•
```

#### å¸¸è§é—®é¢˜
- **ç«¯å£å†²çª**ï¼šä¿®æ”¹ `frontend/vite.config.js` ä¸­çš„ `server.port`
- **API ä»£ç†**ï¼šå¼€å‘æ¨¡å¼ä¸‹è‡ªåŠ¨ä»£ç† `/api` åˆ° `http://localhost:5000`
- **çƒ­é‡è½½å¤±æ•ˆ**ï¼šæ£€æŸ¥æ˜¯å¦æœ‰æ–‡ä»¶ç›‘å¬é™åˆ¶ï¼ˆLinux éœ€è¦å¢åŠ  `fs.inotify.max_user_watches`ï¼‰

#### å‰ç«¯ç‹¬ç«‹éƒ¨ç½²ï¼ˆé«˜çº§ï¼‰
å¦‚æœéœ€è¦å°†å‰ç«¯éƒ¨ç½²åˆ° CDN æˆ–ç‹¬ç«‹æœåŠ¡å™¨ï¼š

1. **ä¿®æ”¹ API åŸºç¡€åœ°å€**
```javascript
// frontend/src/utils/axios.js
const axios = axiosLib.create({
  baseURL: 'https://your-api-server.com',  // ä¿®æ”¹ä¸ºå®é™…åç«¯åœ°å€
  timeout: 30000
})
```

2. **æ„å»ºç”Ÿäº§ç‰ˆæœ¬**
```bash
cd frontend
npm run build
```

3. **éƒ¨ç½² dist ç›®å½•**
   - ä¸Šä¼ åˆ° Nginx/Apache
   - æˆ–ä½¿ç”¨ CDNï¼ˆè…¾è®¯äº‘ COSã€é˜¿é‡Œäº‘ OSS ç­‰ï¼‰
   - æˆ–ä½¿ç”¨é™æ€æ‰˜ç®¡æœåŠ¡ï¼ˆVercelã€Netlify ç­‰ï¼‰

4. **é…ç½® CORS**
   åç«¯éœ€è¦å…è®¸è·¨åŸŸè®¿é—®ï¼š
   ```python
   # ocs_ai_answerer_advanced.py
   CORS(app, resources={
       r"/api/*": {
           "origins": ["https://your-frontend-domain.com"],
           "allow_headers": ["Content-Type", "X-API-Key"]
       }
   })
   ```

### Q12: è®¿é—®å¯†é’¥ç›¸å…³é—®é¢˜

#### å¿˜è®°è®¿é—®å¯†é’¥
```bash
# æŸ¥çœ‹å½“å‰å¯†é’¥
cat .secret_key

# æˆ–é‡æ–°ç”Ÿæˆï¼ˆä¼šå¤±æ•ˆæ—§å¯†é’¥ï¼‰
rm .secret_key
python ocs_ai_answerer_advanced.py  # é‡å¯ä¼šè‡ªåŠ¨ç”Ÿæˆæ–°å¯†é’¥
```

#### ä¿®æ”¹è®¿é—®å¯†é’¥
- **æ–¹æ³•1**ï¼šé€šè¿‡ Web ç•Œé¢ï¼ˆé…ç½®é¡µé¢ â†’ ç³»ç»Ÿè®¾ç½® â†’ å®‰å…¨è®¾ç½®ï¼‰
- **æ–¹æ³•2**ï¼šåˆ é™¤ `.secret_key` æ–‡ä»¶åé‡å¯æœåŠ¡å™¨

#### å¤šç”¨æˆ·å…±äº«å¯†é’¥
- å°† `.secret_key` æ–‡ä»¶ä¸­çš„ `raw_key` åˆ†äº«ç»™å…¶ä»–ç”¨æˆ·
- å…¶ä»–ç”¨æˆ·åœ¨æµè§ˆå™¨ä¸­è¾“å…¥è¯¥å¯†é’¥å³å¯è®¿é—®
- **æ³¨æ„**ï¼šä¸è¦åœ¨å…¬å¼€æ¸ é“åˆ†äº«å¯†é’¥ï¼

#### ç¦ç”¨è®¿é—®å¯†é’¥ï¼ˆä¸æ¨èï¼‰
å¦‚æœåœ¨å®Œå…¨å¯ä¿¡çš„å†…ç½‘ç¯å¢ƒï¼Œå¯ä»¥ä¸´æ—¶ç¦ç”¨ï¼š
```python
# æ³¨é‡Šæ‰éœ€è¦è®¤è¯çš„è£…é¥°å™¨
# @require_auth  # æ³¨é‡Šè¿™ä¸€è¡Œ
def get_config():
    ...
```
**è­¦å‘Š**ï¼šç¦ç”¨åé…ç½®é¡µé¢å°†å®Œå…¨æš´éœ²ï¼Œå­˜åœ¨å®‰å…¨é£é™©ï¼

**åº”è¯¥ï¼š**
- âœ… ä½¿ç”¨`.env`æ–‡ä»¶å­˜å‚¨å¯†é’¥
- âœ… å°†`.env`æ·»åŠ åˆ°`.gitignore`
- âœ… ä½¿ç”¨ç¯å¢ƒå˜é‡æˆ–å¯†é’¥ç®¡ç†æœåŠ¡ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
- âœ… å®šæœŸè½®æ¢APIå¯†é’¥

## ğŸ”’ å®‰å…¨å»ºè®®

1. **å¯†é’¥ç®¡ç†**
   - ä¸è¦æ³„éœ²APIå¯†é’¥
   - ä½¿ç”¨ç¯å¢ƒå˜é‡å­˜å‚¨
   - å®šæœŸè½®æ¢å¯†é’¥

2. **è®¿é—®æ§åˆ¶**
   - é™åˆ¶APIè®¿é—®IP
   - æ·»åŠ è®¤è¯æœºåˆ¶ï¼ˆå¦‚API Tokenï¼‰
   - ä½¿ç”¨HTTPSåŠ å¯†é€šä¿¡

3. **æ—¥å¿—å®‰å…¨**
   - å®šæœŸæ¸…ç†æ•æ„Ÿæ—¥å¿—
   - ä¸è¦è®°å½•APIå¯†é’¥
   - æ§åˆ¶æ—¥å¿—æ–‡ä»¶æƒé™

## ğŸš€ åŠŸèƒ½è§„åˆ’

### âœ… å·²å®ç°çš„åŠŸèƒ½

#### ğŸ¤– æ™ºèƒ½æ¨¡å‹é€‰æ‹©ï¼ˆv2.1ï¼‰
æ ¹æ®é¢˜ç›®å†…å®¹è‡ªåŠ¨é€‰æ‹©æœ€åˆé€‚çš„æ¨¡å‹ï¼š

**å·¥ä½œåŸç†ï¼š**
- ğŸ“· **æœ‰å›¾ç‰‡** â†’ è‡ªåŠ¨ä½¿ç”¨è±†åŒ…ï¼ˆæ”¯æŒå¤šæ¨¡æ€ï¼‰
- ğŸ“ **çº¯æ–‡æœ¬** â†’ è‡ªåŠ¨ä½¿ç”¨DeepSeekï¼ˆæˆæœ¬æ›´ä½ã€é€Ÿåº¦æ›´å¿«ï¼‰
- ğŸ’¡ **æ™ºèƒ½åˆ‡æ¢** â†’ æ— éœ€æ‰‹åŠ¨é…ç½®ï¼Œè‡ªåŠ¨ä¼˜åŒ–æˆæœ¬å’Œæ•ˆç‡

**é…ç½®æ–¹å¼ï¼š**
```env
MODEL_PROVIDER=auto  # å¯ç”¨æ™ºèƒ½é€‰æ‹©æ¨¡å¼

# é…ç½®ä¸¤ä¸ªæ¨¡å‹çš„APIå¯†é’¥
DEEPSEEK_API_KEY=sk-xxxxx
DOUBAO_API_KEY=xxxxx
DOUBAO_MODEL=doubao-seed-1-6-251015

# æ™ºèƒ½é€‰æ‹©ç­–ç•¥ï¼ˆå¯é€‰é…ç½®ï¼‰
AUTO_MODEL_SELECTION=true        # å¯ç”¨è‡ªåŠ¨æ¨¡å‹é€‰æ‹©
PREFER_MODEL=deepseek            # é»˜è®¤é¦–é€‰æ¨¡å‹ï¼ˆæ— å›¾ç‰‡æ—¶ï¼‰
IMAGE_MODEL=doubao               # å›¾ç‰‡é¢˜ç›®ä½¿ç”¨çš„æ¨¡å‹
```

**å®é™…æ•ˆæœï¼š**
- âœ… é™ä½æˆæœ¬ï¼šçº¯æ–‡æœ¬é¢˜ç›®ä½¿ç”¨æˆæœ¬æ›´ä½çš„DeepSeek
- âœ… æé«˜å‡†ç¡®ç‡ï¼šå›¾ç‰‡é¢˜ç›®ä½¿ç”¨æ”¯æŒå¤šæ¨¡æ€çš„è±†åŒ…
- âœ… è‡ªåŠ¨ä¼˜åŒ–ï¼šæ— éœ€æ‰‹åŠ¨åˆ‡æ¢ï¼Œç³»ç»Ÿæ™ºèƒ½åˆ¤æ–­
- âœ… çµæ´»é…ç½®ï¼šå¯è‡ªå®šä¹‰é€‰æ‹©ç­–ç•¥
- âœ… å®¹é”™æœºåˆ¶ï¼šå•ä¸ªæ¨¡å‹æœªé…ç½®æ—¶è‡ªåŠ¨é™çº§

### ğŸ“Š è®¡åˆ’ä¸­çš„åŠŸèƒ½
- ğŸ” **é¢˜ç›®ç›¸ä¼¼åº¦æ£€æµ‹**ï¼šé¿å…é‡å¤ç­”é¢˜
- ğŸ’¾ **ç­”æ¡ˆç¼“å­˜æœºåˆ¶**ï¼šç›¸åŒé¢˜ç›®ç›´æ¥è¿”å›ç¼“å­˜ç­”æ¡ˆ
- ğŸ“ˆ **ç­”é¢˜ç»Ÿè®¡æŠ¥å‘Š**ï¼šç”Ÿæˆè¯¦ç»†çš„ç­”é¢˜åˆ†ææŠ¥å‘Š
- ğŸ”” **é”™è¯¯é¢„è­¦**ï¼šè‡ªåŠ¨æ£€æµ‹å¯èƒ½çš„é”™è¯¯ç­”æ¡ˆ
- ğŸŒ **Webç®¡ç†ç•Œé¢**ï¼šå›¾å½¢åŒ–é…ç½®å’Œç®¡ç†ç•Œé¢

## ğŸ“ æ›´æ–°æ—¥å¿—

### v3.0.0 (2025-11-11) ğŸ‰ é‡å¤§æ›´æ–°

#### ğŸ¨ å‰ç«¯æ¶æ„é‡æ„
- **Vue 3 + Element Plus**ï¼šä»çº¯ HTML é‡æ„ä¸ºç°ä»£åŒ–å‰ç«¯æ¡†æ¶
- **ä¸‰å¤§åŠŸèƒ½æ¨¡å—**ï¼šé…ç½®ç®¡ç†ã€æ•°æ®å¯è§†åŒ–ã€API æ–‡æ¡£
- **å“åº”å¼è®¾è®¡**ï¼šå®Œç¾é€‚é…æ¡Œé¢å’Œç§»åŠ¨ç«¯
- **ç»Ÿä¸€å¯¼èˆª**ï¼šé¡¶éƒ¨å¯¼èˆªæ ï¼Œé¡µé¢é—´è‡ªç”±è·³è½¬
- **ç»„ä»¶åŒ–å¼€å‘**ï¼šConfigPanel.vueã€DataViewer.vueã€AuthDialog.vue

#### ğŸ”’ ä¼ä¸šçº§å®‰å…¨æœºåˆ¶
- **è®¿é—®å¯†é’¥è®¤è¯**ï¼šé¦–æ¬¡å¯åŠ¨è‡ªåŠ¨ç”Ÿæˆ 64 ä½å®‰å…¨å¯†é’¥
- **SHA256 åŠ å¯†å­˜å‚¨**ï¼šå¯†é’¥å“ˆå¸Œå­˜å‚¨åœ¨ `.secret_key` æ–‡ä»¶
- **IP é™æµä¿æŠ¤**ï¼š5 æ¬¡å¤±è´¥é”å®š 5 åˆ†é’Ÿï¼Œé˜²æš´åŠ›ç ´è§£
- **åˆ†çº§æƒé™æ§åˆ¶**ï¼š
  - å…¬å¼€è®¿é—®ï¼šç­”é¢˜æ¥å£ã€æ•°æ®æŸ¥çœ‹ã€API æ–‡æ¡£ã€å¥åº·æ£€æŸ¥
  - éœ€è¦è®¤è¯ï¼šé…ç½®ç®¡ç†ã€æ•°æ®æ¸…ç©ºã€æœåŠ¡å™¨é‡å¯ã€å¯†é’¥ä¿®æ”¹
- **å‰ç«¯å®‰å…¨é›†æˆ**ï¼š
  - LocalStorage å¯†é’¥ç®¡ç†
  - Axios è‡ªåŠ¨æ³¨å…¥è®¤è¯å¤´
  - ç»Ÿä¸€å“åº”æ‹¦æˆªå™¨
  - è®¤è¯å¯¹è¯æ¡†ç»„ä»¶

#### ğŸ“Š æ•°æ®å¯è§†åŒ–å¢å¼º
- **åç«¯åˆ†é¡µ**ï¼šæ”¯æŒå¤§æ•°æ®é‡ï¼Œæ¯é¡µå¯é…ç½®æ¡æ•°
- **é«˜çº§ç­›é€‰**ï¼šæœç´¢ã€é¢˜å‹ã€æ€è€ƒæ¨¡å¼ã€æ—¥æœŸèŒƒå›´
- **å®æ—¶ç»Ÿè®¡**ï¼šç‹¬ç«‹çš„ `/api/csv/stats` æ¥å£
- **JSON å“åº”**ï¼šè¿”å› JSON æ•°ç»„ï¼Œæ—¶é—´é™åºæ’åº
- **æ•°æ®å¯¼å‡º**ï¼šæ”¯æŒ CSV æ ¼å¼å¯¼å‡º
- **è®¤è¯ä¿æŠ¤**ï¼šæ¸…ç©ºæ•°æ®éœ€è¦è®¿é—®å¯†é’¥

#### ğŸ”„ é…ç½®ç®¡ç†å‡çº§
- **ä¿å­˜å¹¶é‡å¯**ï¼šä¸€é”®ä¿å­˜é…ç½®å¹¶è‡ªåŠ¨é‡å¯æœåŠ¡å™¨
- **æ™ºèƒ½è½®è¯¢**ï¼šè‡ªåŠ¨æ£€æµ‹æœåŠ¡å™¨é‡å¯çŠ¶æ€ï¼ˆæ¯ç§’æ£€æŸ¥ï¼Œæœ€å¤š 30 æ¬¡ï¼‰
- **å®æ—¶åé¦ˆ**ï¼šæ˜¾ç¤ºä¿å­˜ã€é‡å¯ã€è½®è¯¢è¿›åº¦
- **å®Œæ•´å¯†é’¥æ˜¾ç¤º**ï¼šåœ¨å—ä¿æŠ¤çš„é…ç½®é¡µé¢æ˜¾ç¤ºå®Œæ•´ API å¯†é’¥
- **è¡Œçº§æ›´æ–°**ï¼šä¿å­˜é…ç½®æ—¶ä¿ç•™ .env æ–‡ä»¶æ³¨é‡Šå’Œç»“æ„
- **å¯†é’¥ç®¡ç†**ï¼šWeb ç•Œé¢ä¿®æ”¹è®¿é—®å¯†é’¥

#### ğŸ› ï¸ æŠ€æœ¯æ”¹è¿›
- **è·¨å¹³å°é‡å¯**ï¼šæ”¯æŒ Windows å’Œ Linux/Mac çš„è¿›ç¨‹é‡å¯
- **æ‰“åŒ…å…¼å®¹**ï¼šæ”¯æŒ PyInstaller æ‰“åŒ…åçš„ exe é‡å¯
- **å‰ç«¯æ„å»º**ï¼šVite 4 æ„å»ºç³»ç»Ÿï¼Œå¿«é€Ÿçƒ­é‡è½½
- **API å¢å¼º**ï¼šæ–°å¢ 6 ä¸ªè®¤è¯ç›¸å…³æ¥å£
- **é”™è¯¯å¤„ç†**ï¼šç»Ÿä¸€çš„é”™è¯¯å¤„ç†å’Œç”¨æˆ·æç¤º

#### ğŸ“š æ–‡æ¡£å®Œå–„
- **å®Œæ•´ API æ–‡æ¡£**ï¼šåŒ…å«æ‰€æœ‰æ¥å£çš„è¯·æ±‚/å“åº”ç¤ºä¾‹
- **å®‰å…¨æŒ‡å—**ï¼šè®¿é—®å¯†é’¥ä½¿ç”¨è¯´æ˜
- **å‰ç«¯æ„å»ºæŒ‡å—**ï¼šå¼€å‘å’Œç”Ÿäº§ç¯å¢ƒé…ç½®
- **éƒ¨ç½²è¯´æ˜**ï¼šæœåŠ¡å™¨éƒ¨ç½²å’Œå¼€æœºè‡ªå¯

### v2.2.0 (2025-11-02)
- ğŸ–¼ï¸ **å›¾ç‰‡é¢˜è‡ªåŠ¨æ€è€ƒ**ï¼šå¸¦å›¾ç‰‡é¢˜ç›®è‡ªåŠ¨å¯ç”¨æ·±åº¦æ€è€ƒæ¨¡å¼
- ğŸ“· **é€‰é¡¹å›¾ç‰‡æ£€æµ‹**ï¼šä»é€‰é¡¹ä¸­æå–å›¾ç‰‡URLï¼Œå®Œå–„å›¾ç‰‡æ£€æµ‹
- âš™ï¸ **é…ç½®å¢å¼º**ï¼šæ–°å¢ `AUTO_REASONING_FOR_IMAGES` é…ç½®é¡¹
- ğŸ“ **æ–‡æ¡£æ›´æ–°**ï¼šå®Œæ•´çš„å›¾ç‰‡é¢˜æ€è€ƒæ¨¡å¼è¯´æ˜

### v2.1.0 (2025-11-02)
- ğŸ¤– **æ™ºèƒ½æ¨¡å‹é€‰æ‹©**ï¼šæ ¹æ®é¢˜ç›®è‡ªåŠ¨é€‰æ‹©æœ€åˆé€‚çš„æ¨¡å‹
- ğŸ”§ **æ€è€ƒæ¨¡å¼tokené…ç½®**ï¼šå•ç‹¬é…ç½®æ€è€ƒæ¨¡å¼çš„max_tokens
- ğŸ“ **è¯¦ç»†å‚æ•°è¯´æ˜**ï¼šå®Œæ•´çš„AIå‚æ•°æ–‡æ¡£å’Œæ¨èé…ç½®
- ğŸ”’ **å®‰å…¨ä¼˜åŒ–**ï¼šç§»é™¤ç¡¬ç¼–ç å¯†é’¥ï¼Œå®Œå–„.gitignore
- ğŸ“– **æ–‡æ¡£å¢å¼º**ï¼šAPIå¯†é’¥è·å–æŒ‡å—ã€è„šæœ¬çŒ«æ¨è
- ğŸ·ï¸ **æ ‡ç­¾å…¼å®¹**ï¼šå®Œæ•´æ”¯æŒpurple/orangeæ ‡ç­¾é¢œè‰²

### v2.0.0 (2025-11-02)
- âœ¨ æ”¯æŒå¤šæ¨¡å‹ï¼ˆDeepSeek + è±†åŒ…ï¼‰
- ğŸ§  æ”¯æŒæ€è€ƒæ¨¡å¼ï¼ˆæ·±åº¦æ¨ç†ï¼‰
- ğŸ–¼ï¸ æ”¯æŒå›¾ç‰‡è¾“å…¥ï¼ˆè±†åŒ…å¤šæ¨¡æ€ï¼‰
- ğŸ“Š CSVæ—¥å¿—è®°å½•åŠŸèƒ½
- ğŸ“ˆ HTMLå¯è§†åŒ–ç•Œé¢
- âš™ï¸ ç¯å¢ƒå˜é‡é…ç½®
- ğŸ”„ æ™ºèƒ½é™çº§æœºåˆ¶
- ğŸ·ï¸ OCSæ ‡ç­¾å±•ç¤º

### v1.0.0 (2024-11-01)
- âœ¨ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- ğŸ¯ æ”¯æŒ4ç§é¢˜å‹ï¼ˆå•é€‰/å¤šé€‰/åˆ¤æ–­/å¡«ç©ºï¼‰
- ğŸ¤– é›†æˆDeepSeek AI
- ğŸ“ ä¼˜åŒ–çš„Promptå·¥ç¨‹
- ğŸ”„ æ™ºèƒ½ç­”æ¡ˆå¤„ç†

## ğŸ“„ License

MIT License

Copyright (c) 2024-2025

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

> ğŸ¤– **AI å‚ä¸å£°æ˜**
> 
> æœ¬é¡¹ç›®çš„è®¾è®¡ã€å¼€å‘å’Œç»´æŠ¤è¿‡ç¨‹ä¸­å¤§é‡ä½¿ç”¨äº†äººå·¥æ™ºèƒ½æŠ€æœ¯ã€‚AI ä½œä¸ºå¼€å‘å·¥å…·ï¼ŒååŠ©å®Œæˆäº†ä»£ç ç¼–å†™ã€æ–‡æ¡£ç”Ÿæˆã€é—®é¢˜è¯Šæ–­ç­‰å·¥ä½œã€‚æ‰€æœ‰ AI ç”Ÿæˆçš„å†…å®¹éƒ½ç»è¿‡å®¡æ ¸å’Œæµ‹è¯•ï¼Œç¡®ä¿è´¨é‡å’Œå¯ç”¨æ€§ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

> ğŸ’¡ **å…³äº AI ç»´æŠ¤**
> 
> æœ¬é¡¹ç›®é‡‡ç”¨ AI è¾…åŠ©å¼€å‘æ¨¡å¼ï¼š
> - âœ… Issue å“åº”ï¼šAI ä¼šå‚ä¸é—®é¢˜åˆ†æå’Œè§£ç­”
> - âœ… ä»£ç å®¡æŸ¥ï¼šAI ååŠ©è¿›è¡Œä»£ç è´¨é‡æ£€æŸ¥
> - âœ… åŠŸèƒ½å¼€å‘ï¼šAI å‚ä¸æ–°åŠŸèƒ½çš„è®¾è®¡å’Œå®ç°
> - âœ… æ–‡æ¡£æ›´æ–°ï¼šAI è‡ªåŠ¨ç»´æŠ¤æŠ€æœ¯æ–‡æ¡£
> 
> äººç±»å¼€å‘è€…ä¾ç„¶è´Ÿè´£æœ€ç»ˆå†³ç­–å’Œä»£ç å®¡æ ¸ã€‚

## ğŸ“§ è”ç³»æ–¹å¼

- ğŸ“¦ é¡¹ç›®ä¸»é¡µï¼šhttps://github.com/lkd6666/ocs-ai-answerer
- ğŸ› é—®é¢˜åé¦ˆï¼šhttps://github.com/lkd6666/ocs-ai-answerer/issues
- â­ ç»™ä¸ªStarï¼šhttps://github.com/lkd6666/ocs-ai-answerer/stargazers
- ğŸŒ OCS å®˜ç½‘ï¼šhttps://docs.ocsjs.com/
- ğŸ“– OCS æ–‡æ¡£ï¼šhttps://docs.ocsjs.com/docs/work

---

<div align="center">

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªstaræ”¯æŒä¸€ä¸‹ï¼â­

**ä¸»è¦ç‰¹æ€§**
ğŸ¤– å¤šæ¨¡å‹ | ğŸ§  æ·±åº¦æ€è€ƒ | ğŸ–¼ï¸ å›¾ç‰‡è¯†åˆ« | ğŸ“Š æ•°æ®å¯è§†åŒ–

**è§„åˆ’åŠŸèƒ½**
ğŸ¯ æ™ºèƒ½æ¨¡å‹é€‰æ‹© | ğŸ’¾ ç­”æ¡ˆç¼“å­˜ | ğŸ“ˆ ç»Ÿè®¡æŠ¥å‘Š | ğŸŒ Webç®¡ç†

---

**å¼€å‘æ¨¡å¼**
ğŸ¤– AI è¾…åŠ©å¼€å‘ | ğŸ’¡ æ™ºèƒ½è®¾è®¡ | ğŸ”§ è‡ªåŠ¨ä¼˜åŒ– | ğŸ“ æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆ

*æœ¬é¡¹ç›®å±•ç¤ºäº† AI åœ¨è½¯ä»¶å¼€å‘é¢†åŸŸçš„åˆ›æ–°åº”ç”¨*

</div>
